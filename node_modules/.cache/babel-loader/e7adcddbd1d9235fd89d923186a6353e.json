{"ast":null,"code":"export const purchaseTx = `\nimport MyNFT from 0x40582f87fa3d66cb\nimport NonFungibleToken from 0x631e88ae7f1d7c20\nimport NFTMarketplace from 0x40582f87fa3d66cb\nimport FlowToken from 0x7e60df042a9c0868\n\ntransaction(account: Address, id: UInt64) {\n\n  prepare(acct: AuthAccount) {\n    let saleCollection = getAccount(account).getCapability(/public/MySaleCollection)\n                        .borrow<&NFTMarketplace.SaleCollection{NFTMarketplace.SaleCollectionPublic}>()\n                        ?? panic(\"Could not borrow the user's SaleCollection\")\n\n    let recipientCollection = getAccount(acct.address).getCapability(/public/MyNFTCollection) \n                    .borrow<&MyNFT.Collection{NonFungibleToken.CollectionPublic}>()\n                    ?? panic(\"Can't get the User's collection.\")\n\n    let price = saleCollection.getPrice(id: id)\n\n    let payment <- acct.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)!.withdraw(amount: price) as! @FlowToken.Vault\n\n    saleCollection.purchase(id: id, recipientCollection: recipientCollection, payment: <- payment)\n  }\n\n  execute {\n    log(\"A user purchased an NFT\")\n  }\n}\n\n`;","map":{"version":3,"sources":["C:/Users/DM/Desktop/nftdapp/src/cadence/transactions/purchase.js"],"names":["purchaseTx"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA7BO","sourcesContent":["export const purchaseTx = `\r\nimport MyNFT from 0x40582f87fa3d66cb\r\nimport NonFungibleToken from 0x631e88ae7f1d7c20\r\nimport NFTMarketplace from 0x40582f87fa3d66cb\r\nimport FlowToken from 0x7e60df042a9c0868\r\n\r\ntransaction(account: Address, id: UInt64) {\r\n\r\n  prepare(acct: AuthAccount) {\r\n    let saleCollection = getAccount(account).getCapability(/public/MySaleCollection)\r\n                        .borrow<&NFTMarketplace.SaleCollection{NFTMarketplace.SaleCollectionPublic}>()\r\n                        ?? panic(\"Could not borrow the user's SaleCollection\")\r\n\r\n    let recipientCollection = getAccount(acct.address).getCapability(/public/MyNFTCollection) \r\n                    .borrow<&MyNFT.Collection{NonFungibleToken.CollectionPublic}>()\r\n                    ?? panic(\"Can't get the User's collection.\")\r\n\r\n    let price = saleCollection.getPrice(id: id)\r\n\r\n    let payment <- acct.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)!.withdraw(amount: price) as! @FlowToken.Vault\r\n\r\n    saleCollection.purchase(id: id, recipientCollection: recipientCollection, payment: <- payment)\r\n  }\r\n\r\n  execute {\r\n    log(\"A user purchased an NFT\")\r\n  }\r\n}\r\n\r\n`"]},"metadata":{},"sourceType":"module"}