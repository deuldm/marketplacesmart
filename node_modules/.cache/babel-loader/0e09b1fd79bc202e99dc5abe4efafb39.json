{"ast":null,"code":"import { invariant as e } from \"@onflow/util-invariant\";\nimport { SUBSCRIBE as n, UNSUBSCRIBE as t, spawn as r, send as o, subscriber as u } from \"@onflow/util-actor\";\nimport { Transaction as i, SendTransactionRequest as a, AccessAPI as c, GetTransactionRequest as s, ExecuteScriptAtLatestBlockRequest as l, ExecuteScriptAtBlockHeightRequest as f, ExecuteScriptAtBlockIDRequest as d, GetAccountAtLatestBlockRequest as m, GetAccountAtBlockHeightRequest as p, GetEventsForBlockIDsRequest as g, GetEventsForHeightRangeRequest as h, GetLatestBlockRequest as v, GetBlockByHeightRequest as y, GetBlockByIDRequest as k, GetLatestBlockHeaderRequest as b, GetBlockHeaderByHeightRequest as I, GetBlockHeaderByIDRequest as P, GetCollectionByIDRequest as S, PingRequest as w } from \"@onflow/protobuf\";\nimport { sansPrefix as B, withPrefix as A } from \"@onflow/util-address\";\nimport { grpc as E } from \"@improbable-eng/grpc-web\";\nimport { NodeHttpTransport as T } from \"@improbable-eng/grpc-web-node-http-transport\";\nimport { encode as j } from \"@onflow/rlp\";\nimport { template as N } from \"@onflow/util-template\";\nexport { template as cadence, template as cdc } from \"@onflow/util-template\";\n\nfunction x() {\n  return (x = Object.assign || function (e) {\n    for (var n = 1; n < arguments.length; n++) {\n      var t = arguments[n];\n\n      for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction O(e) {\n  return (O = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction _(e, n) {\n  return (_ = Object.setPrototypeOf || function (e, n) {\n    return e.__proto__ = n, e;\n  })(e, n);\n}\n\nfunction L() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n  } catch (e) {\n    return !1;\n  }\n}\n\nfunction G(e, n, t) {\n  return (G = L() ? Reflect.construct : function (e, n, t) {\n    var r = [null];\n    r.push.apply(r, n);\n    var o = new (Function.bind.apply(e, r))();\n    return t && _(o, t.prototype), o;\n  }).apply(null, arguments);\n}\n\nfunction C(e) {\n  var n = \"function\" == typeof Map ? new Map() : void 0;\n  return (C = function (e) {\n    if (null === e || -1 === Function.toString.call(e).indexOf(\"[native code]\")) return e;\n    if (\"function\" != typeof e) throw new TypeError(\"Super expression must either be null or a function\");\n\n    if (void 0 !== n) {\n      if (n.has(e)) return n.get(e);\n      n.set(e, t);\n    }\n\n    function t() {\n      return G(e, arguments, O(this).constructor);\n    }\n\n    return t.prototype = Object.create(e.prototype, {\n      constructor: {\n        value: t,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), _(t, e);\n  })(e);\n}\n\nfunction U(e, n) {\n  (null == n || n > e.length) && (n = e.length);\n\n  for (var t = 0, r = new Array(n); t < n; t++) r[t] = e[t];\n\n  return r;\n}\n\nvar R,\n    D = '{\\n  \"tag\":\"UNKNOWN\",\\n  \"assigns\":{},\\n  \"status\":\"OK\",\\n  \"reason\":null,\\n  \"accounts\":{},\\n  \"params\":{},\\n  \"arguments\":{},\\n  \"message\": {\\n    \"cadence\":null,\\n    \"refBlock\":null,\\n    \"computeLimit\":null,\\n    \"proposer\":null,\\n    \"payer\":null,\\n    \"authorizations\":[],\\n    \"params\":[],\\n    \"arguments\":[]\\n  },\\n  \"proposer\":null,\\n  \"authorizations\":[],\\n  \"payer\":null,\\n  \"events\": {\\n    \"eventType\":null,\\n    \"start\":null,\\n    \"end\":null,\\n    \"blockIds\":[]\\n  },\\n  \"transaction\": {\\n    \"id\":null\\n  },\\n  \"block\": {\\n    \"id\":null,\\n    \"height\":null,\\n    \"isSealed\":null\\n  },\\n  \"account\": {\\n    \"addr\":null\\n  },\\n  \"collection\": {\\n    \"id\":null\\n  }\\n}',\n    K = new Set(Object.keys(JSON.parse(D))),\n    F = function () {\n  return JSON.parse(D);\n},\n    H = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"),\n    z = function () {\n  return H[~~(Math.random() * H.length)];\n},\n    q = function () {\n  return Array.from({\n    length: 10\n  }, z).join(\"\");\n},\n    M = function (e) {\n  return Array.isArray(e);\n},\n    J = function (e) {\n  return null == e;\n},\n    W = function (e) {\n  return e.status = \"OK\", e;\n},\n    Y = function (e, n) {\n  return e.status = \"BAD\", e.reason = n, e;\n},\n    V = function (e) {\n  return function (n) {\n    return n.tag = e, W(n);\n  };\n},\n    $ = function (n, t) {\n  return void 0 === t && (t = {}), function (r) {\n    var o;\n    e(\"function\" == typeof n || \"object\" == typeof n, \"prepAccount must be passed an authorization function or an account object\"), e(null != t.role, \"Account must have a role\");\n    var u = JSON.parse('{\\n  \"kind\":\"ACCOUNT\",\\n  \"tempId\":null,\\n  \"addr\":null,\\n  \"keyId\":null,\\n  \"sequenceNum\":null,\\n  \"signature\":null,\\n  \"signingFunction\":null,\\n  \"resolve\":null,\\n  \"role\": {\\n    \"proposer\":false,\\n    \"authorizer\":false,\\n    \"payer\":false,\\n    \"param\":false\\n  }\\n}'),\n        i = t.role,\n        a = q();\n    return r.accounts[a] = x({}, u, {\n      tempId: a\n    }, n = \"function\" == typeof n ? {\n      resolve: n\n    } : n, {\n      role: x({}, u.role, \"object\" == typeof n.role ? n.role : {}, (o = {}, o[i] = !0, o))\n    }), \"authorizer\" === i ? r.authorizations.push(a) : r[i] = a, r;\n  };\n},\n    X = function (e) {\n  return function (n) {\n    var t = q();\n    return n.message.arguments.push(t), n.arguments[t] = JSON.parse('{\\n  \"kind\":\"ARGUMENT\",\\n  \"tempId\":null,\\n  \"value\":null,\\n  \"asArgument\":null,\\n  \"xform\":null,\\n  \"resolve\": null\\n}'), n.arguments[t].tempId = t, n.arguments[t].value = e.value, n.arguments[t].asArgument = e.asArgument, n.arguments[t].xform = e.xform, n.arguments[t].resolve = e.resolve, W(n);\n  };\n},\n    Z = V(\"SCRIPT\"),\n    Q = V(\"TRANSACTION\"),\n    ee = V(\"GET_TRANSACTION_STATUS\"),\n    ne = V(\"GET_TRANSACTION\"),\n    te = V(\"GET_ACCOUNT\"),\n    re = V(\"GET_EVENTS\"),\n    oe = V(\"GET_LATEST_BLOCK\"),\n    ue = V(\"GET_BLOCK_BY_ID\"),\n    ie = V(\"GET_BLOCK_BY_HEIGHT\"),\n    ae = V(\"PING\"),\n    ce = V(\"GET_BLOCK\"),\n    se = V(\"GET_BLOCK_HEADER\"),\n    le = V(\"GET_COLLECTION\"),\n    fe = function (e) {\n  return function (n) {\n    return n.tag === e;\n  };\n},\n    de = fe(\"UNKNOWN\"),\n    me = fe(\"SCRIPT\"),\n    pe = fe(\"TRANSACTION\"),\n    ge = fe(\"GET_TRANSACTION_STATUS\"),\n    he = fe(\"GET_TRANSACTION\"),\n    ve = fe(\"GET_ACCOUNT\"),\n    ye = fe(\"GET_EVENTS\"),\n    ke = fe(\"GET_LATEST_BLOCK\"),\n    be = fe(\"GET_BLOCK_BY_ID\"),\n    Ie = fe(\"GET_BLOCK_BY_HEIGHT\"),\n    Pe = fe(\"PING\"),\n    Se = fe(\"GET_BLOCK\"),\n    we = fe(\"GET_BLOCK_HEADER\"),\n    Be = fe(\"GET_COLLECTION\"),\n    Ae = function (e) {\n  return \"OK\" === e.status;\n},\n    Ee = function (e) {\n  return \"BAD\" === e.status;\n},\n    Te = function (e) {\n  return e.reason;\n},\n    je = function e(n, t) {\n  void 0 === t && (t = []);\n\n  try {\n    return Promise.resolve(function (r, o) {\n      try {\n        var u = Promise.resolve(n).then(function (r) {\n          if (n = function (e) {\n            for (var n = 0, t = Object.keys(e); n < t.length; n++) {\n              var r = t[n];\n              if (!K.has(r)) throw new Error('\"' + r + '\" is an invalid root level Interaction property.');\n            }\n\n            return e;\n          }(r), Ee(n)) throw new Error(\"Interaction Error: \" + n.reason);\n          if (!t.length) return n;\n          var o = t[0],\n              u = t.slice(1);\n          return Promise.resolve(o).then(function (t) {\n            if (\"function\" == typeof t) return e(t(n), u);\n            if (J(t) || !t) return e(n, u);\n            if (function (e) {\n              if (null === (n = e) || \"object\" != typeof n || J(e) || function (e) {\n                return \"number\" == typeof e;\n              }(e)) return !1;\n\n              for (var n, t, r = function (e, n) {\n                var t = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n                if (t) return (t = t.call(e)).next.bind(t);\n\n                if (Array.isArray(e) || (t = function (e, n) {\n                  if (e) {\n                    if (\"string\" == typeof e) return U(e, n);\n                    var t = Object.prototype.toString.call(e).slice(8, -1);\n                    return \"Object\" === t && e.constructor && (t = e.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(e) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? U(e, n) : void 0;\n                  }\n                }(e))) {\n                  t && (e = t);\n                  var r = 0;\n                  return function () {\n                    return r >= e.length ? {\n                      done: !0\n                    } : {\n                      done: !1,\n                      value: e[r++]\n                    };\n                  };\n                }\n\n                throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n              }(K); !(t = r()).done;) if (!e.hasOwnProperty(t.value)) return !1;\n\n              return !0;\n            }(t)) return e(t, u);\n            throw new Error(\"Invalid Interaction Composition\");\n          });\n        });\n      } catch (e) {\n        return o(e);\n      }\n\n      return u && u.then ? u.then(void 0, o) : u;\n    }(0, function (e) {\n      throw e;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Ne = function e() {\n  var n = [].slice.call(arguments),\n      t = n[0],\n      r = n[1];\n  return M(t) && null == r ? function (n) {\n    return e(n, t);\n  } : je(t, r);\n},\n    xe = function (e) {\n  return e;\n},\n    Oe = function (e, n, t) {\n  return null == e.assigns[n] ? t : e.assigns[n];\n},\n    _e = function (e, n) {\n  return function (t) {\n    return t.assigns[e] = n, W(t);\n  };\n},\n    Le = function (e, n) {\n  return void 0 === n && (n = xe), function (t) {\n    return t.assigns[e] = n(t.assigns[e], t), W(t);\n  };\n},\n    Ge = function (e) {\n  return function (n) {\n    return delete n.assigns[e], W(n);\n  };\n};\n\nfunction Ce(e) {\n  return void 0 === e && (e = []), Ne(F(), e);\n}\n\nvar Ue = function e(n, t) {\n  void 0 === n && (n = []);\n\n  try {\n    if (!n.length) return Promise.resolve(t);\n    var r = n[0],\n        o = n.slice(1);\n    return Promise.resolve(Me(r)).then(function (n) {\n      return null == n ? e(o, t) : n;\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Re = \"config\",\n    De = \"PUT_CONFIG\",\n    Ke = \"GET_CONFIG\",\n    Fe = \"CONFIG/UPDATED\",\n    He = function (e) {\n  return e;\n},\n    ze = ((R = {})[De] = function (e, n, t) {\n  var r = t.key,\n      o = t.value;\n  if (null == r) throw new Error(\"Missing 'key' for config/put.\");\n  e.put(r, o), e.broadcast(Fe, x({}, e.all()));\n}, R[Ke] = function (e, n, t) {\n  var r = t.key,\n      o = t.fallback;\n  if (null == r) throw new Error(\"Missing 'key' for config/get\");\n  n.reply(e.get(r, o));\n}, R.GET_ALL_CONFIG = function (e, n) {\n  n.reply(x({}, e.all()));\n}, R.UPDATE_CONFIG = function (e, n, t) {\n  var r = t.key,\n      o = t.fn;\n  if (null == r) throw new Error(\"Missing 'key' for config/update\");\n  e.update(r, o || He), e.broadcast(Fe, x({}, e.all()));\n}, R.DELETE_CONFIG = function (e, n, t) {\n  var r = t.key;\n  if (null == r) throw new Error(\"Missing 'key' for config/delete\");\n  e.delete(r), e.broadcast(Fe, x({}, e.all()));\n}, R.CLEAR_CONFIG = function (e, n) {\n  for (var t = 0, r = Object.keys(e.all()); t < r.length; t++) e.delete(r[t]);\n\n  e.broadcast(Fe, x({}, e.all()));\n}, R.WHERE_CONFIG = function (e, n, t) {\n  var r = t.pattern;\n  if (null == r) throw new Error(\"Missing 'pattern' for config/where\");\n  n.reply(e.where(r));\n}, R[n] = function (e, n) {\n  e.subscribe(n.from), e.send(n.from, Fe, x({}, e.all()));\n}, R[t] = function (e, n) {\n  e.unsubscribe(n.from);\n}, R);\n\nfunction qe(e, n) {\n  return o(Re, De, {\n    key: e,\n    value: n\n  }), Ze();\n}\n\nfunction Me(e, n) {\n  return o(Re, Ke, {\n    key: e,\n    fallback: n\n  }, {\n    expectReply: !0,\n    timeout: 10\n  });\n}\n\nfunction Je() {\n  return o(Re, \"GET_ALL_CONFIG\", null, {\n    expectReply: !0,\n    timeout: 10\n  });\n}\n\nfunction We(e, n) {\n  return void 0 === n && (n = He), o(Re, \"UPDATE_CONFIG\", {\n    key: e,\n    fn: n\n  }), Ze();\n}\n\nfunction Ye(e) {\n  return o(Re, \"DELETE_CONFIG\", {\n    key: e\n  }), Ze();\n}\n\nfunction Ve(e) {\n  return o(Re, \"WHERE_CONFIG\", {\n    pattern: e\n  }, {\n    expectReply: !0,\n    timeout: 10\n  });\n}\n\nfunction $e(e) {\n  return u(Re, function () {\n    return r(ze, Re);\n  }, e);\n}\n\nfunction Xe() {\n  return o(Re, \"CLEAR_CONFIG\");\n}\n\nfunction Ze(e) {\n  return null != e && \"object\" == typeof e && Object.keys(e).map(function (n) {\n    return qe(n, e[n]);\n  }), {\n    put: qe,\n    get: Me,\n    all: Je,\n    first: Ue,\n    update: We,\n    delete: Ye,\n    where: Ve,\n    subscribe: $e,\n    overload: en\n  };\n}\n\nr(ze, Re), Ze.put = qe, Ze.get = Me, Ze.all = Je, Ze.first = Ue, Ze.update = We, Ze.delete = Ye, Ze.where = Ve, Ze.subscribe = $e, Ze.overload = en;\n\nvar Qe = function (e) {\n  return e;\n};\n\nfunction en(e, n) {\n  return void 0 === e && (e = {}), void 0 === n && (n = Qe), new Promise(function (t, r) {\n    try {\n      return Promise.resolve(Je()).then(function (o) {\n        var u = function (r, u) {\n          try {\n            var i = function () {\n              Ze(e);\n              var r = n;\n              return Promise.resolve(Je()).then(function (e) {\n                return Promise.resolve(r(e)).then(function (e) {\n                  return Promise.resolve(Xe()).then(function () {\n                    return Promise.resolve(Ze(o)).then(function () {\n                      t(e);\n                    });\n                  });\n                });\n              });\n            }();\n          } catch (e) {\n            return u(e);\n          }\n\n          return i && i.then ? i.then(void 0, u) : i;\n        }(0, function (e) {\n          return Promise.resolve(Xe()).then(function () {\n            return Promise.resolve(Ze(o)).then(function () {\n              r(e);\n            });\n          });\n        });\n\n        if (u && u.then) return u.then(function () {});\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  });\n}\n\nvar nn = function () {\n  return JSON.parse('{\\n    \"tag\":null,\\n    \"transaction\":null,\\n    \"transactionStatus\":null,\\n    \"transactionId\":null,\\n    \"encodedData\":null,\\n    \"events\":null,\\n    \"account\":null,\\n    \"block\":null,\\n    \"blockHeader\":null,\\n    \"latestBlock\":null,\\n    \"collection\":null\\n}');\n},\n    tn = function (e, n, t) {\n  try {\n    return Promise.resolve(Ze().get(\"grpc.metadata\", {})).then(function (r) {\n      return new Promise(function (o, u) {\n        E.unary(n, {\n          request: t,\n          host: e,\n          metadata: new E.Metadata(r),\n          onEnd: function (e) {\n            var n = e.statusMessage;\n            e.status === E.Code.OK ? o(e.message) : u(new Error(n));\n          }\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nE.setDefaultTransport(T());\n\nvar rn = function (e) {\n  return Buffer.from(e, \"hex\");\n},\n    on = function (e) {\n  return Buffer.from(e.padStart(16, 0), \"hex\");\n},\n    un = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    an = function (e) {\n  return Buffer.from(JSON.stringify(e), \"utf8\");\n};\n\nfunction cn(e, n) {\n  var t = nn();\n  return t.tag = e.tag, t.encodedData = JSON.parse(Buffer.from(n.getValue_asU8()).toString(\"utf8\")), t;\n}\n\nvar sn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    ln = function (e) {\n  return Buffer.from(e.padStart(16, 0), \"hex\");\n};\n\nfunction fn(e, n) {\n  var t = nn();\n  t.tag = e.tag;\n  var r,\n      o = n.getAccount(),\n      u = (r = o.getContractsMap()) ? r.getEntryList().reduce(function (e, n) {\n    var t;\n    return x({}, e, ((t = {})[n[0]] = Buffer.from(n[1] || new UInt8Array()).toString(\"utf8\"), t));\n  }, {}) : {};\n  return t.account = {\n    address: A(sn(o.getAddress_asU8())),\n    balance: o.getBalance(),\n    code: Buffer.from(o.getCode_asU8() || new UInt8Array()).toString(\"utf8\"),\n    contracts: u,\n    keys: o.getKeysList().map(function (e) {\n      return {\n        index: e.getIndex(),\n        publicKey: sn(e.getPublicKey_asU8()),\n        signAlgo: e.getSignAlgo(),\n        hashAlgo: e.getHashAlgo(),\n        weight: e.getWeight(),\n        sequenceNumber: e.getSequenceNumber(),\n        revoked: e.getRevoked()\n      };\n    })\n  }, t;\n}\n\nvar dn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n};\n\nfunction mn(e, n) {\n  var t = nn();\n  t.tag = e.tag;\n  var r = n.getResultsList();\n  return t.events = r.reduce(function (e, n) {\n    var t = dn(n.getBlockId_asU8()),\n        r = n.getBlockHeight(),\n        o = n.getBlockTimestamp().toDate().toISOString();\n    return n.getEventsList().forEach(function (n) {\n      e.push({\n        blockId: t,\n        blockHeight: r,\n        blockTimestamp: o,\n        type: n.getType(),\n        transactionId: dn(n.getTransactionId_asU8()),\n        transactionIndex: n.getTransactionIndex(),\n        eventIndex: n.getEventIndex(),\n        payload: JSON.parse(Buffer.from(n.getPayload_asU8()).toString(\"utf8\"))\n      });\n    }), e;\n  }, []), t;\n}\n\nvar pn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n};\n\nfunction gn(e, n) {\n  var t = n.getBlock(),\n      r = t.getCollectionGuaranteesList(),\n      o = t.getBlockSealsList(),\n      u = t.getSignaturesList().map(pn),\n      i = nn();\n  return i.tag = e.tag, i.block = {\n    id: pn(t.getId_asU8()),\n    parentId: pn(t.getParentId_asU8()),\n    height: t.getHeight(),\n    timestamp: t.getTimestamp().toDate().toISOString(),\n    collectionGuarantees: r.map(function (e) {\n      return {\n        collectionId: pn(e.getCollectionId_asU8()),\n        signatures: e.getSignaturesList().map(pn)\n      };\n    }),\n    blockSeals: o.map(function (e) {\n      return {\n        blockId: pn(e.getBlockId_asU8()),\n        executionReceiptId: pn(e.getExecutionReceiptId_asU8()),\n        executionReceiptSignatures: e.getExecutionReceiptSignaturesList().map(pn),\n        resultApprovalSignatures: e.getResultApprovalSignaturesList().map(pn)\n      };\n    }),\n    signatures: u\n  }, i;\n}\n\nvar hn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n};\n\nfunction vn(e, n) {\n  var t = n.getBlock(),\n      r = nn();\n  return r.tag = e.tag, r.blockHeader = {\n    id: hn(t.getId_asU8()),\n    parentId: hn(t.getParentId_asU8()),\n    height: t.getHeight(),\n    timestamp: t.getTimestamp().toDate().toISOString()\n  }, r;\n}\n\nvar yn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    kn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    bn = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    In = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    Pn = function (n, t) {\n  void 0 === t && (t = {});\n\n  try {\n    var r = function (r) {\n      return t.node = r, Promise.resolve(n).then(function (r) {\n        switch (n = r, !0) {\n          case pe(n):\n            return t.sendTransaction ? t.sendTransaction(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                var t = n.unary || tn;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new i();\n                  o.setScript(function (e) {\n                    return Buffer.from(e, \"utf8\");\n                  }(e.message.cadence)), o.setGasLimit(e.message.computeLimit), o.setReferenceBlockId(e.message.refBlock ? rn(e.message.refBlock) : null), o.setPayer(on(B(e.accounts[e.payer].addr))), e.message.arguments.forEach(function (n) {\n                    return o.addArguments(function (e) {\n                      return Buffer.from(JSON.stringify(e), \"utf8\");\n                    }(e.arguments[n].asArgument));\n                  }), e.authorizations.map(function (n) {\n                    return e.accounts[n].addr;\n                  }).reduce(function (e, n) {\n                    return e.find(function (e) {\n                      return e === n;\n                    }) ? e : [].concat(e, [n]);\n                  }, []).forEach(function (e) {\n                    return o.addAuthorizers(on(B(e)));\n                  });\n                  var u = new i.ProposalKey();\n                  u.setAddress(on(B(e.accounts[e.proposer].addr))), u.setKeyId(e.accounts[e.proposer].keyId), u.setSequenceNumber(e.accounts[e.proposer].sequenceNum), o.setProposalKey(u);\n\n                  for (var s = 0, l = Object.values(e.accounts); s < l.length; s++) {\n                    var f = l[s];\n\n                    try {\n                      if (!f.role.payer && null != f.signature) {\n                        var d = new i.Signature();\n                        d.setAddress(on(B(f.addr))), d.setKeyId(f.keyId), d.setSignature(rn(f.signature)), o.addPayloadSignatures(d);\n                      }\n                    } catch (n) {\n                      throw console.error(\"Trouble applying payload signature\", {\n                        acct: f,\n                        ix: e\n                      }), n;\n                    }\n                  }\n\n                  for (var m = 0, p = Object.values(e.accounts); m < p.length; m++) {\n                    var g = p[m];\n\n                    try {\n                      if (g.role.payer && null != g.signature) {\n                        var h = new i.Signature();\n                        h.setAddress(on(B(g.addr))), h.setKeyId(g.keyId), h.setSignature(rn(g.signature)), o.addEnvelopeSignatures(h);\n                      }\n                    } catch (n) {\n                      throw console.error(\"Trouble applying envelope signature\", {\n                        acct: g,\n                        ix: e\n                      }), n;\n                    }\n                  }\n\n                  var v = new a();\n                  v.setTransaction(o);\n                  var y = Date.now();\n                  return Promise.resolve(t(n.node, c.SendTransaction, v)).then(function (n) {\n                    var t,\n                        r = Date.now(),\n                        o = nn();\n                    return o.tag = e.tag, o.transactionId = (t = n.getId_asU8(), Buffer.from(t).toString(\"hex\")), \"undefined\" != typeof window && window.dispatchEvent(new CustomEvent(\"FLOW::TX\", {\n                      detail: {\n                        txId: o.transactionId,\n                        delta: r - y\n                      }\n                    })), o;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case ge(n):\n            return t.sendGetTransactionStatus ? t.sendGetTransactionStatus(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                var t = n.unary || tn;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new s();\n                  return o.setId(Buffer.from(e.transaction.id, \"hex\")), Promise.resolve(t(n.node, c.GetTransactionResult, o)).then(function (n) {\n                    var t = n.getEventsList(),\n                        r = nn();\n                    return r.tag = e.tag, r.transactionStatus = {\n                      status: n.getStatus(),\n                      statusCode: n.getStatusCode(),\n                      errorMessage: n.getErrorMessage(),\n                      events: t.map(function (e) {\n                        return {\n                          type: e.getType(),\n                          transactionId: (n = e.getTransactionId_asU8(), Buffer.from(n).toString(\"hex\")),\n                          transactionIndex: e.getTransactionIndex(),\n                          eventIndex: e.getEventIndex(),\n                          payload: JSON.parse(Buffer.from(e.getPayload_asU8()).toString(\"utf8\"))\n                        };\n                        var n;\n                      })\n                    }, r;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case he(n):\n            return t.sendGetTransaction ? t.sendGetTransaction(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                var t = n.unary || tn;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new s();\n                  return o.setId(Buffer.from(e.transaction.id, \"hex\")), Promise.resolve(t(n.node, c.GetTransaction, o)).then(function (n) {\n                    var t = nn();\n                    t.tag = e.tag;\n\n                    var r,\n                        o = function (e) {\n                      return {\n                        address: un(e.getAddress_asU8()),\n                        keyId: e.getKeyId(),\n                        signature: un(e.getSignature_asU8())\n                      };\n                    },\n                        u = n.getTransaction();\n\n                    return t.transaction = {\n                      script: Buffer.from(u.getScript_asU8()).toString(\"utf8\"),\n                      args: u.getArgumentsList().map(function (e) {\n                        return JSON.parse(Buffer.from(e).toString(\"utf8\"));\n                      }),\n                      referenceBlockId: un(u.getReferenceBlockId_asU8()),\n                      gasLimit: u.getGasLimit(),\n                      proposalKey: (r = u.getProposalKey(), {\n                        address: un(r.getAddress_asU8()),\n                        keyId: r.getKeyId(),\n                        sequenceNumber: r.getSequenceNumber()\n                      }),\n                      payer: un(u.getPayer_asU8()),\n                      authorizers: u.getAuthorizersList().map(un),\n                      payloadSignatures: u.getPayloadSignaturesList().map(o),\n                      envelopeSignatures: u.getEnvelopeSignaturesList().map(o)\n                    }, t;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case me(n):\n            return t.sendExecuteScript ? t.sendExecuteScript(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  return e = t, Promise.resolve(e.block.id ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new d();\n                      r.setBlockId(Buffer.from(e.block.id, \"hex\"));\n                      var o = Buffer.from(e.message.cadence, \"utf8\");\n                      return e.message.arguments.forEach(function (n) {\n                        return r.addArguments(an(e.arguments[n].asArgument));\n                      }), r.setScript(o), Promise.resolve(t(n.node, c.ExecuteScriptAtBlockID, r)).then(function (n) {\n                        return cn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : e.block.height ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new f();\n                      r.setBlockHeight(Number(e.block.height));\n                      var o = Buffer.from(e.message.cadence, \"utf8\");\n                      return e.message.arguments.forEach(function (n) {\n                        return r.addArguments(an(e.arguments[n].asArgument));\n                      }), r.setScript(o), Promise.resolve(t(n.node, c.ExecuteScriptAtBlockHeight, r)).then(function (n) {\n                        return cn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new l(),\n                          o = Buffer.from(e.message.cadence, \"utf8\");\n                      return e.message.arguments.forEach(function (n) {\n                        return r.addArguments(an(e.arguments[n].asArgument));\n                      }), r.setScript(o), Promise.resolve(t(n.node, c.ExecuteScriptAtLatestBlock, r)).then(function (n) {\n                        return cn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n));\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case ve(n):\n            return t.sendGetAccount ? t.sendGetAccount(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  return e = t, Promise.resolve(null !== e.block.height ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new p();\n                      return r.setBlockHeight(Number(e.block.height)), r.setAddress(ln(B(e.account.addr))), Promise.resolve(t(n.node, c.GetAccountAtBlockHeight, r)).then(function (n) {\n                        return fn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new m();\n                      return r.setAddress(ln(B(e.account.addr))), Promise.resolve(t(n.node, c.GetAccountAtLatestBlock, r)).then(function (n) {\n                        return fn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n));\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case ye(n):\n            return t.sendGetEvents ? t.sendGetEvents(n, t) : function (n, t) {\n              void 0 === t && (t = {});\n\n              try {\n                return Promise.resolve(n).then(function (r) {\n                  var o = null !== (n = r).events.start,\n                      u = Array.isArray(n.events.blockIds) && n.events.blockIds.length > 0;\n                  return e(o || u, \"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified.\"), Promise.resolve(o ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new h();\n                      return r.setType(e.events.eventType), r.setStartHeight(Number(e.events.start)), r.setEndHeight(Number(e.events.end)), Promise.resolve(t(n.node, c.GetEventsForHeightRange, r)).then(function (n) {\n                        return mn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(n, t) : function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new g();\n                      return r.setType(e.events.eventType), e.events.blockIds.forEach(function (e) {\n                        return r.addBlockIds(Buffer.from(e, \"hex\"));\n                      }), Promise.resolve(t(n.node, c.GetEventsForBlockIDs, r)).then(function (n) {\n                        return mn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(n, t));\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case ke(n):\n            return t.sendGetLatestBlock ? t.sendGetLatestBlock(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  e = t;\n                  var r = new v();\n                  return e.latestBlock && e.latestBlock.isSealed && (r.setIsSealed(e.latestBlock.isSealed), console.error(\"\\n          %c@onflow/send Deprecation Notice\\n          ========================\\n\\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\\n\\n          =======================\\n        \".replace(/\\n\\s+/g, \"\\n\").trim(), \"font-weight:bold;font-family:monospace;\")), e.block && e.block.isSealed && r.setIsSealed(e.block.isSealed), Promise.resolve(tn(n.node, c.GetLatestBlock, r)).then(function (n) {\n                    var t = n.getBlock(),\n                        r = t.getCollectionGuaranteesList(),\n                        o = t.getBlockSealsList(),\n                        u = t.getSignaturesList(),\n                        i = nn();\n                    return i.tag = e.tag, i.block = {\n                      id: yn(t.getId_asU8()),\n                      parentId: yn(t.getParentId_asU8()),\n                      height: t.getHeight(),\n                      timestamp: t.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: yn(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: yn(e.getBlockId_asU8()),\n                          executionReceiptId: yn(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: u\n                    }, i;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case Se(n):\n            return t.sendGetBlock ? t.sendGetBlock(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  var r = null !== (e = t).block.height;\n                  return Promise.resolve(null !== e.block.id ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new k();\n                      return r.setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(t(n.node, c.GetBlockByID, r)).then(function (n) {\n                        return gn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : r ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new y();\n                      return r.setHeight(Number(e.block.height)), Promise.resolve(t(n.node, c.GetBlockByHeight, r)).then(function (n) {\n                        return gn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : function (e, n) {\n                    try {\n                      var t,\n                          r = n.unary || tn,\n                          o = new v();\n                      return null != (t = e.block) && t.isSealed && o.setIsSealed(e.block.isSealed), Promise.resolve(r(n.node, c.GetLatestBlock, o)).then(function (n) {\n                        return gn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n));\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case we(n):\n            return t.sendGetBlockHeader ? t.sendGetBlockHeader(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  var r = null !== (e = t).block.height;\n                  return Promise.resolve(null !== e.block.id ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new P();\n                      return r.setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(t(n.node, c.GetBlockHeaderByID, r)).then(function (n) {\n                        return vn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : r ? function (e, n) {\n                    try {\n                      var t = n.unary || tn,\n                          r = new I();\n                      return r.setHeight(Number(e.block.height)), Promise.resolve(t(n.node, c.GetBlockHeaderByHeight, r)).then(function (n) {\n                        return vn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n) : function (e, n) {\n                    try {\n                      var t,\n                          r = n.unary || tn,\n                          o = new b();\n                      return null != (t = e.block) && t.isSealed && o.setIsSealed(e.block.isSealed), Promise.resolve(r(n.node, c.GetLatestBlockHeader, o)).then(function (n) {\n                        return vn(e, n);\n                      });\n                    } catch (e) {\n                      return Promise.reject(e);\n                    }\n                  }(e, n));\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case be(n):\n            return t.sendGetBlockById ? t.sendGetBlockById(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  e = t;\n                  var r = new k();\n                  return r.setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(tn(n.node, c.GetBlockByID, r)).then(function (n) {\n                    var t = n.getBlock(),\n                        r = t.getCollectionGuaranteesList(),\n                        o = t.getBlockSealsList(),\n                        u = t.getSignaturesList(),\n                        i = nn();\n                    return i.tag = e.tag, i.block = {\n                      id: kn(t.getId_asU8()),\n                      parentId: kn(t.getParentId_asU8()),\n                      height: t.getHeight(),\n                      timestamp: t.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: kn(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: kn(e.getBlockId_asU8()),\n                          executionReceiptId: kn(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: u\n                    }, i;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case Ie(n):\n            return t.sendGetBlockByHeight ? t.sendGetBlockByHeight(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                return Promise.resolve(e).then(function (t) {\n                  e = t;\n                  var r = new y();\n                  return r.setHeight(Number(e.block.height)), Promise.resolve(tn(n.node, c.GetBlockByHeight, r)).then(function (n) {\n                    var t = n.getBlock(),\n                        r = t.getCollectionGuaranteesList(),\n                        o = t.getBlockSealsList(),\n                        u = t.getSignaturesList(),\n                        i = nn();\n                    return i.tag = e.tag, i.block = {\n                      id: bn(t.getId_asU8()),\n                      parentId: bn(t.getParentId_asU8()),\n                      height: t.getHeight(),\n                      timestamp: t.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: bn(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: bn(e.getBlockId_asU8()),\n                          executionReceiptId: bn(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: u\n                    }, i;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case Be(n):\n            return t.sendGetCollection ? t.sendGetCollection(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                var t = n.unary || tn;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new S();\n                  return o.setId(Buffer.from(e.collection.id, \"hex\")), Promise.resolve(t(n.node, c.GetCollectionByID, o)).then(function (n) {\n                    var t = n.getCollection(),\n                        r = nn();\n                    return r.tag = e.tag, r.collection = {\n                      id: In(t.getId_asU8()),\n                      transactionIds: t.getTransactionIdsList().map(In)\n                    }, r;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          case Pe(n):\n            return t.sendPing ? t.sendPing(n, t) : function (e, n) {\n              void 0 === n && (n = {});\n\n              try {\n                var t = n.unary || tn;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new w();\n                  return Promise.resolve(t(n.node, c.Ping, o)).then(function (n) {\n                    var t = nn();\n                    return t.tag = e.tag, t;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(n, t);\n\n          default:\n            return n;\n        }\n      });\n    },\n        o = t.node;\n\n    return Promise.resolve(o ? r(o) : Promise.resolve(Ze().get(\"accessNode.api\")).then(r));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction Sn(e) {\n  return void 0 === e && (e = null), Ne([ce, function (n) {\n    return n.block.isSealed = e, W(n);\n  }]);\n}\n\nfunction wn(e) {\n  return Ne([te, function (n) {\n    return n.account.addr = B(e), W(n);\n  }]);\n}\n\nvar Bn = function (e, n, t) {\n  try {\n    try {\n      return Promise.resolve(Number(e));\n    } catch (e) {\n      throw new Error(\"Decode Number Error : \" + t.join(\".\"));\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    An = function (e) {\n  return Promise.resolve(e);\n},\n    En = function (e, n, t) {\n  try {\n    return Promise.resolve(e.fields.reduce(function (e, r) {\n      try {\n        return Promise.resolve(e).then(function (o) {\n          return e = o, Promise.resolve(Nn(r.value, n, [].concat(t, [r.name]))).then(function (n) {\n            return e[r.name] = n, e;\n          });\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }, Promise.resolve({}))).then(function (t) {\n      var r = e.id && jn(n, e.id);\n      return r ? Promise.resolve(r(t)) : t;\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Tn = {\n  UInt: Bn,\n  Int: Bn,\n  UInt8: Bn,\n  Int8: Bn,\n  UInt16: Bn,\n  Int16: Bn,\n  UInt32: Bn,\n  Int32: Bn,\n  UInt64: Bn,\n  Int64: Bn,\n  UInt128: Bn,\n  Int128: Bn,\n  UInt256: Bn,\n  Int256: Bn,\n  Word8: Bn,\n  Word16: Bn,\n  Word32: Bn,\n  Word64: Bn,\n  UFix64: An,\n  Fix64: An,\n  String: An,\n  Character: An,\n  Bool: An,\n  Address: An,\n  Void: function () {\n    return Promise.resolve(null);\n  },\n  Optional: function (e, n, t) {\n    return Promise.resolve(e ? Nn(e, n, t) : null);\n  },\n  Reference: function (e) {\n    try {\n      return Promise.resolve({\n        address: e.address,\n        type: e.type\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Array: function (e, n, t) {\n    try {\n      return Promise.resolve(Promise.all(e.map(function (e) {\n        return new Promise(function (r) {\n          try {\n            return Promise.resolve(Nn(e, n, [].concat(t, [e.type]))).then(r);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        });\n      })));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Dictionary: function (e, n, t) {\n    try {\n      return Promise.resolve(e.reduce(function (e, r) {\n        try {\n          return Promise.resolve(e).then(function (o) {\n            return e = o, Promise.resolve(Nn(r.key, n, [].concat(t, [r.key]))).then(function (o) {\n              return Promise.resolve(Nn(r.value, n, [].concat(t, [r.key]))).then(function (n) {\n                return e[o] = n, e;\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }, Promise.resolve({})));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Event: En,\n  Resource: En,\n  Struct: En,\n  Enum: En,\n  Type: function (e) {\n    try {\n      return Promise.resolve(e.staticType);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Path: function (e) {\n    try {\n      return Promise.resolve({\n        domain: e.domain,\n        identifier: e.identifier\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Capability: function (e) {\n    try {\n      return Promise.resolve({\n        path: e.path,\n        address: e.address,\n        borrowType: e.borrowType\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n},\n    jn = function (e, n) {\n  var t = Object.keys(e).find(function (e) {\n    return /^\\/.*\\/$/.test(e) ? new RegExp(e.substring(1, e.length - 1)).test(n) : e === n;\n  });\n  return n && t && e[t];\n},\n    Nn = function (e, n, t) {\n  try {\n    var r = jn(n, e.type);\n    if (!r) throw new Error(\"Undefined Decoder Error: \" + e.type + \"@\" + t.join(\".\"));\n    return Promise.resolve(r(e.value, n, t));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    xn = function (e, n, t) {\n  void 0 === n && (n = {}), void 0 === t && (t = []);\n  var r = x({}, Tn, n);\n  return Promise.resolve(Nn(e, r, t));\n},\n    On = function (e, n) {\n  void 0 === n && (n = {});\n\n  try {\n    var t,\n        r = x({}, Tn, n),\n        o = e.encodedData ? (t = 1, Promise.resolve(xn(e.encodedData, r))) : e.transactionStatus ? (t = 1, Promise.resolve(Promise.all(e.transactionStatus.events.map(function (e) {\n      try {\n        var n = e.eventIndex,\n            t = e.transactionIndex,\n            o = e.transactionId,\n            u = e.type;\n        return Promise.resolve(xn(e.payload, r)).then(function (e) {\n          return {\n            type: u,\n            transactionId: o,\n            transactionIndex: t,\n            eventIndex: n,\n            data: e\n          };\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }))).then(function (n) {\n      return x({}, e.transactionStatus, {\n        events: n\n      });\n    })) : e.transaction ? (t = 1, e.transaction) : e.events ? (t = 1, Promise.resolve(Promise.all(e.events.map(function (e) {\n      try {\n        var n = e.eventIndex,\n            t = e.transactionIndex,\n            o = e.transactionId,\n            u = e.type,\n            i = e.blockTimestamp,\n            a = e.blockHeight,\n            c = e.blockId;\n        return Promise.resolve(xn(e.payload, r)).then(function (e) {\n          return {\n            blockId: c,\n            blockHeight: a,\n            blockTimestamp: i,\n            type: u,\n            transactionId: o,\n            transactionIndex: t,\n            eventIndex: n,\n            data: e\n          };\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    })))) : e.account ? (t = 1, e.account) : e.block ? (t = 1, e.block) : e.blockHeader ? (t = 1, e.blockHeader) : e.latestBlock ? (console.error(\"\\n          %c@onflow/decode Deprecation Notice\\n          ========================\\n\\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\\n\\n          =======================\\n        \".replace(/\\n\\s+/g, \"\\n\").trim(), \"font-weight:bold;font-family:monospace;\"), t = 1, e.latestBlock) : e.transactionId ? (t = 1, e.transactionId) : e.collection ? (t = 1, e.collection) : void 0;\n    return Promise.resolve(o && o.then ? o.then(function (e) {\n      return t ? e : null;\n    }) : t ? o : null);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction _n(e) {\n  return function (n) {\n    try {\n      return pe(n) ? n.message.refBlock ? Promise.resolve(W(n)) : Promise.resolve(function (e) {\n        try {\n          var n;\n          return Promise.resolve(Ne(F(), [Sn()])).then(function (t) {\n            return n = t, Promise.resolve(Pn(n, e)).then(function (e) {\n              return n = e, Promise.resolve(On(n)).then(function (e) {\n                return (n = e).id;\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }(e)).then(function (e) {\n        return n.message.refBlock = e, W(n);\n      }) : Promise.resolve(W(n));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar Ln = function (n) {\n  try {\n    var t = function () {\n      if (pe(n) || me(n)) {\n        var t = function () {\n          return e(Cn(r), \"Cadence needs to be a string at this point.\"), Promise.resolve(Ze().where(/^0x/).then(function (e) {\n            return Object.entries(e).reduce(function (e, n) {\n              return e.replace(n[0], n[1]);\n            }, r);\n          })).then(function (e) {\n            n.message.cadence = e;\n          });\n        },\n            r = Oe(n, \"ix.cadence\");\n\n        e(Gn(r) || Cn(r), \"Cadence needs to be a function or a string.\");\n\n        var o = function () {\n          if (Gn(r)) return Promise.resolve(r({})).then(function (e) {\n            r = e;\n          });\n        }();\n\n        return o && o.then ? o.then(t) : t();\n      }\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(function () {\n      return n;\n    }) : n);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Gn = function (e) {\n  return \"function\" == typeof e;\n},\n    Cn = function (e) {\n  return \"string\" == typeof e;\n},\n    Un = function (e) {\n  try {\n    if (pe(e) || me(e)) for (var n = 0, t = Object.entries(e.arguments); n < t.length; n++) {\n      var r = t[n];\n      e.arguments[r[0]].asArgument = Dn(r[1]);\n    }\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Rn = function (e) {\n  return \"function\" == typeof e;\n};\n\nfunction Dn(n) {\n  return e(null != typeof n.xform, \"No type specified for argument: \" + n.value), Rn(n.xform) ? n.xform(n.value) : Rn(n.xform.asArgument) ? n.xform.asArgument(n.value) : void e(!1, \"Invalid Argument\", n);\n}\n\nvar Kn,\n    Fn = function (e) {\n  return Mn(Vn($n(e)));\n},\n    Hn = function (e) {\n  return Mn(Vn(Xn(e)));\n},\n    zn = function (e, n) {\n  return Buffer.from(e.padStart(2 * n, 0), \"hex\");\n},\n    qn = (Kn = Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), Buffer.from(Kn.padEnd(64, 0), \"hex\")).toString(\"hex\"),\n    Mn = function (e) {\n  return qn + e;\n},\n    Jn = function (e) {\n  return zn(e, 8);\n},\n    Wn = function (e) {\n  return Buffer.from(JSON.stringify(e), \"utf8\");\n},\n    Yn = function (e) {\n  return Buffer.from(e, \"utf8\");\n},\n    Vn = function (e) {\n  return j(e).toString(\"hex\");\n},\n    $n = function (e) {\n  return et(e), [Yn(e.cadence), e.arguments.map(Wn), (n = e.refBlock, zn(n, 32)), e.computeLimit, Jn(e.proposalKey.address), e.proposalKey.keyId, e.proposalKey.sequenceNum, Jn(e.payer), e.authorizers.map(Jn)];\n  var n;\n},\n    Xn = function (e) {\n  return nt(e), [$n(e), Zn(e)];\n},\n    Zn = function (e) {\n  var n = Qn(e);\n  return e.payloadSigs.map(function (e) {\n    return {\n      signerIndex: n.get(e.address),\n      keyId: e.keyId,\n      sig: e.sig\n    };\n  }).sort(function (e, n) {\n    return e.signerIndex > n.signerIndex ? 1 : e.signerIndex < n.signerIndex ? -1 : e.keyId > n.keyId ? 1 : e.keyId < n.keyId ? -1 : void 0;\n  }).map(function (e) {\n    return [e.signerIndex, e.keyId, (n = e.sig, Buffer.from(n, \"hex\"))];\n    var n;\n  });\n},\n    Qn = function (e) {\n  var n = new Map(),\n      t = 0,\n      r = function (e) {\n    n.has(e) || (n.set(e, t), t++);\n  };\n\n  return r(e.proposalKey.address), r(e.payer), e.authorizers.forEach(r), n;\n},\n    et = function (e) {\n  it.forEach(function (n) {\n    return lt(e, n);\n  }), at.forEach(function (n) {\n    return lt(e.proposalKey, n, \"proposalKey\");\n  });\n},\n    nt = function (e) {\n  ct.forEach(function (n) {\n    return lt(e, n);\n  }), e.payloadSigs.forEach(function (e, n) {\n    st.forEach(function (t) {\n      return lt(e, t, \"payloadSigs\", n);\n    });\n  });\n},\n    tt = function (e) {\n  return \"number\" == typeof e;\n},\n    rt = function (e) {\n  return \"string\" == typeof e;\n},\n    ot = function (e) {\n  return null !== e && \"object\" == typeof e;\n},\n    ut = function (e) {\n  return ot(e) && e instanceof Array;\n},\n    it = [{\n  name: \"cadence\",\n  check: rt\n}, {\n  name: \"arguments\",\n  check: ut\n}, {\n  name: \"refBlock\",\n  check: rt,\n  defaultVal: \"0\"\n}, {\n  name: \"computeLimit\",\n  check: tt\n}, {\n  name: \"proposalKey\",\n  check: ot\n}, {\n  name: \"payer\",\n  check: rt\n}, {\n  name: \"authorizers\",\n  check: ut\n}],\n    at = [{\n  name: \"address\",\n  check: rt\n}, {\n  name: \"keyId\",\n  check: tt\n}, {\n  name: \"sequenceNum\",\n  check: tt\n}],\n    ct = [{\n  name: \"payloadSigs\",\n  check: ut\n}],\n    st = [{\n  name: \"address\",\n  check: rt\n}, {\n  name: \"keyId\",\n  check: tt\n}, {\n  name: \"sig\",\n  check: rt\n}],\n    lt = function (e, n, t, r) {\n  var o = n.name,\n      u = n.check,\n      i = n.defaultVal;\n  if (null == e[o] && null != i && (e[o] = i), null == e[o]) throw dt(o, t, r);\n  if (!u(e[o])) throw mt(o, t, r);\n},\n    ft = function (e, n, t) {\n  return n ? null == t ? n + \".\" + e : n + \".\" + t + \".\" + e : e;\n},\n    dt = function (e, n, t) {\n  return new Error(\"Missing field \" + ft(e, n, t));\n},\n    mt = function (e, n, t) {\n  return new Error(\"Invalid field \" + ft(e, n, t));\n},\n    pt = function (e) {\n  try {\n    var n = function () {\n      if (pe(e)) return function (n, t) {\n        try {\n          var r = (o = gt(e), u = Fn(kt(e)), Promise.resolve(Promise.all(o.map(vt(e, u)))).then(function () {\n            var n = ht(e),\n                t = Hn(x({}, kt(e), {\n              payloadSigs: o.map(function (n) {\n                return {\n                  address: e.accounts[n].addr,\n                  keyId: e.accounts[n].keyId,\n                  sig: e.accounts[n].signature\n                };\n              })\n            }));\n            return Promise.resolve(Promise.all(n.map(vt(e, t)))).then(function () {});\n          }));\n        } catch (e) {\n          return t(e);\n        }\n\n        var o, u;\n        return r && r.then ? r.then(void 0, t) : r;\n      }(0, function (n) {\n        throw console.error(\"Signatures\", n, {\n          ix: e\n        }), n;\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function (n) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction gt(e) {\n  var n = new Set(e.authorizations);\n  return n.add(e.proposer), n.delete(e.payer), Array.from(n);\n}\n\nfunction ht(e) {\n  var n = new Set([e.payer]);\n  return Array.from(n);\n}\n\nfunction vt(e, n) {\n  return function (t) {\n    try {\n      var r = e.accounts[t];\n      return null != r.signature ? Promise.resolve() : Promise.resolve(r.signingFunction(function (e, n, t) {\n        try {\n          return {\n            f_type: \"Signable\",\n            f_vsn: \"1.0.1\",\n            message: n,\n            addr: B(e.addr),\n            keyId: e.keyId,\n            roles: e.role,\n            cadence: t.message.cadence,\n            args: t.message.arguments.map(function (e) {\n              return t.arguments[e].asArgument;\n            }),\n            data: {},\n            interaction: t,\n            voucher: yt(t)\n          };\n        } catch (e) {\n          throw console.error(\"buildSignable\", e), e;\n        }\n      }(r, n, e))).then(function (n) {\n        e.accounts[t].signature = n.signature;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar yt = function (e) {\n  return {\n    cadence: e.message.cadence,\n    refBlock: e.message.refBlock || null,\n    computeLimit: e.message.computeLimit,\n    arguments: e.message.arguments.map(function (n) {\n      return e.arguments[n].asArgument;\n    }),\n    proposalKey: {\n      address: A(e.accounts[e.proposer].addr),\n      keyId: e.accounts[e.proposer].keyId,\n      sequenceNum: e.accounts[e.proposer].sequenceNum\n    },\n    payer: A(e.accounts[e.payer].addr),\n    authorizers: e.authorizations.map(function (n) {\n      return A(e.accounts[n].addr);\n    }).reduce(function (e, n) {\n      return e.find(function (e) {\n        return e === n;\n      }) ? e : [].concat(e, [n]);\n    }, []),\n    payloadSigs: gt(e).map(function (n) {\n      return {\n        address: A(e.accounts[n].addr),\n        keyId: e.accounts[n].keyId,\n        sig: e.accounts[n].signature\n      };\n    }),\n    envelopeSigs: ht(e).map(function (n) {\n      return {\n        address: A(e.accounts[n].addr),\n        keyId: e.accounts[n].keyId,\n        sig: e.accounts[n].signature\n      };\n    })\n  };\n};\n\nfunction kt(e) {\n  return {\n    cadence: e.message.cadence,\n    refBlock: e.message.refBlock || null,\n    computeLimit: e.message.computeLimit,\n    arguments: e.message.arguments.map(function (n) {\n      return e.arguments[n].asArgument;\n    }),\n    proposalKey: {\n      address: B(e.accounts[e.proposer].addr),\n      keyId: e.accounts[e.proposer].keyId,\n      sequenceNum: e.accounts[e.proposer].sequenceNum\n    },\n    payer: B(e.accounts[e.payer].addr),\n    authorizers: e.authorizations.map(function (n) {\n      return B(e.accounts[n].addr);\n    }).reduce(function (e, n) {\n      return e.find(function (e) {\n        return e === n;\n      }) ? e : [].concat(e, [n]);\n    }, [])\n  };\n}\n\nvar bt = \"undefined\" != typeof Symbol ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nfunction It(e, n, t) {\n  if (!e.s) {\n    if (t instanceof Pt) {\n      if (!t.s) return void (t.o = It.bind(null, e, n));\n      1 & n && (n = t.s), t = t.v;\n    }\n\n    if (t && t.then) return void t.then(It.bind(null, e, n), It.bind(null, e, 2));\n    e.s = n, e.v = t;\n    var r = e.o;\n    r && r(e);\n  }\n}\n\nvar Pt = function () {\n  function e() {}\n\n  return e.prototype.then = function (n, t) {\n    var r = new e(),\n        o = this.s;\n\n    if (o) {\n      var u = 1 & o ? n : t;\n\n      if (u) {\n        try {\n          It(r, 1, u(this.v));\n        } catch (e) {\n          It(r, 2, e);\n        }\n\n        return r;\n      }\n\n      return this;\n    }\n\n    return this.o = function (e) {\n      try {\n        var o = e.v;\n        1 & e.s ? It(r, 1, n ? n(o) : o) : t ? It(r, 1, t(o)) : It(r, 2, o);\n      } catch (e) {\n        It(r, 2, e);\n      }\n    }, r;\n  }, e;\n}();\n\nfunction St(e) {\n  return e instanceof Pt && 1 & e.s;\n}\n\nvar wt = function (e) {\n  try {\n    var n = function () {\n      if (pe(e)) return function (n, t) {\n        try {\n          var r = Promise.resolve(Bt(e, Object.values(e.accounts))).then(function () {\n            return Promise.resolve(Bt(e, Object.values(e.accounts))).then(function () {});\n          });\n        } catch (e) {\n          return t(e);\n        }\n\n        return r && r.then ? r.then(void 0, t) : r;\n      }(0, function (e) {\n        throw console.error(\"=== SAD PANDA ===\\n\\n\", e, \"\\n\\n=== SAD PANDA ===\"), e;\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function (n) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Bt = function n(t, r, o, u) {\n  void 0 === u && (u = 3);\n\n  try {\n    var i = function () {\n      o && (t.authorizations = t.authorizations.map(function (e) {\n        return e === o.tempId ? a : e;\n      }).reduce(function (e, n) {\n        return Array.isArray(n) ? [].concat(e, n) : [].concat(e, [n]);\n      }, []));\n    };\n\n    e(u, \"Account Resolve Recursion Limit Exceeded\", {\n      ix: t,\n      accounts: r\n    });\n\n    var a = [],\n        c = function (e, n, t) {\n      if (\"function\" == typeof e[bt]) {\n        var r,\n            o,\n            u,\n            i = e[bt]();\n\n        if (function e(t) {\n          try {\n            for (; !(r = i.next()).done;) if ((t = n(r.value)) && t.then) {\n              if (!St(t)) return void t.then(e, u || (u = It.bind(null, o = new Pt(), 2)));\n              t = t.v;\n            }\n\n            o ? It(o, 1, t) : o = t;\n          } catch (e) {\n            It(o || (o = new Pt()), 2, e);\n          }\n        }(), i.return) {\n          var a = function (e) {\n            try {\n              r.done || i.return();\n            } catch (e) {}\n\n            return e;\n          };\n\n          if (o && o.then) return o.then(a, function (e) {\n            throw a(e);\n          });\n          a();\n        }\n\n        return o;\n      }\n\n      if (!(\"length\" in e)) throw new TypeError(\"Object is not iterable\");\n\n      for (var c = [], s = 0; s < e.length; s++) c.push(e[s]);\n\n      return function (e, n, t) {\n        var r,\n            o,\n            u = -1;\n        return function t(i) {\n          try {\n            for (; ++u < e.length;) if ((i = n(u)) && i.then) {\n              if (!St(i)) return void i.then(t, o || (o = It.bind(null, r = new Pt(), 2)));\n              i = i.v;\n            }\n\n            r ? It(r, 1, i) : r = i;\n          } catch (e) {\n            It(r || (r = new Pt()), 2, e);\n          }\n        }(), r;\n      }(c, function (e) {\n        return n(c[e]);\n      });\n    }(r, function (e) {\n      function r() {\n        function r() {\n          i.tempId != e.tempId && delete t.accounts[i.tempId];\n        }\n\n        var c = function () {\n          if (Array.isArray(e)) return Promise.resolve(n(t, e, i, u - 1)).then(function () {});\n          null != e.addr && null != e.keyId && (e.tempId = e.addr + \"-\" + e.keyId), t.accounts[e.tempId] = t.accounts[e.tempId] || e, t.accounts[e.tempId].role.proposer = t.accounts[e.tempId].role.proposer || e.role.proposer, t.accounts[e.tempId].role.payer = t.accounts[e.tempId].role.payer || e.role.payer, t.accounts[e.tempId].role.authorizer = t.accounts[e.tempId].role.authorizer || e.role.authorizer, t.accounts[e.tempId].role.proposer && t.proposer === i.tempId && (t.proposer = e.tempId), t.accounts[e.tempId].role.payer && t.payer === i.tempId && (t.payer = e.tempId), t.accounts[e.tempId].role.authorizer && (o ? a = Array.from(new Set([].concat(a, [e.tempId]))) : t.authorizations = t.authorizations.map(function (n) {\n            return n === i.tempId ? e.tempId : n;\n          }));\n        }();\n\n        return c && c.then ? c.then(r) : r();\n      }\n\n      var i = o || e,\n          c = function () {\n        if (At(e.resolve)) return Promise.resolve(e.resolve(e, function (e, n) {\n          try {\n            return {\n              f_type: \"PreSignable\",\n              f_vsn: \"1.0.1\",\n              roles: e.role,\n              cadence: n.message.cadence,\n              args: n.message.arguments.map(function (e) {\n                return n.arguments[e].asArgument;\n              }),\n              data: {},\n              interaction: n,\n              voucher: yt(n)\n            };\n          } catch (e) {\n            throw console.error(\"buildPreSignable\", e), e;\n          }\n        }(e, t))).then(function (n) {\n          e = n;\n        });\n      }();\n\n      return c && c.then ? c.then(r) : r();\n    });\n\n    return Promise.resolve(c && c.then ? c.then(i) : i());\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    At = function (e) {\n  return \"function\" == typeof e;\n},\n    Et = function (e) {\n  try {\n    var n = Oe(e, \"ix.validators\", []);\n    return Promise.resolve(Ne(e, n.map(function (e) {\n      return function (n) {\n        return e(n, {\n          Ok: W,\n          Bad: Y\n        });\n      };\n    })));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Tt = function (e) {\n  try {\n    for (var n = 0, t = Object.keys(e.accounts); n < t.length; n++) {\n      var r = t[n];\n      e.accounts[r].addr = B(e.accounts[r].addr);\n    }\n\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    jt = function (e) {\n  return e;\n},\n    Nt = function (e, n) {\n  return void 0 === n && (n = jt), function (t) {\n    try {\n      var r = function (e) {\n        return [\"\\nAccounts:\", {\n          proposer: e.proposer,\n          authorizations: e.authorizations,\n          payer: e.payer\n        }, \"\\n\\nDetails:\", e.accounts].filter(Boolean);\n      },\n          o = function () {\n        var n;\n        (n = console).log.apply(n, [\"debug[\" + e + \"] ---\\n\"].concat([].slice.call(arguments), [\"\\n\\n\\n---\"]));\n      };\n\n      return Promise.resolve(Ze.get(\"debug.\" + e)).then(function (e) {\n        var u = function () {\n          if (e) return Promise.resolve(n(t, o, r)).then(function () {});\n        }();\n\n        return u && u.then ? u.then(function () {\n          return t;\n        }) : t;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n},\n    xt = Ne([Ln, Nt(\"cadence\", function (e, n) {\n  return n(e.message.cadence);\n}), Un, Nt(\"arguments\", function (e, n) {\n  return n(e.message.arguments, e.message);\n}), wt, Nt(\"accounts\", function (e, n, t) {\n  return n.apply(void 0, t(e));\n}), function (e) {\n  try {\n    var n = function () {\n      if (pe(e) && null == e.message.refBlock) return Promise.resolve(Ze.first([\"sdk.transport\", \"sdk.send\"], Pn)).then(function (n) {\n        return Promise.resolve(n(Ce([Sn()])).then(On)).then(function (n) {\n          e.message.refBlock = n.id;\n        });\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (n) {\n  try {\n    var t = function () {\n      if (pe(n)) return Promise.resolve(Ze.first([\"sdk.transport\", \"sdk.send\"], Pn)).then(function (t) {\n        var r = Object.values(n.accounts).find(function (e) {\n          return e.role.proposer;\n        });\n        e(r, \"Transactions require a proposer\");\n\n        var o = function () {\n          if (null == r.sequenceNum) return Promise.resolve(Ce([wn(r.addr)])).then(function (e) {\n            return Promise.resolve(t(e).then(On).then(function (e) {\n              return e.keys;\n            }).then(function (e) {\n              return e.find(function (e) {\n                return e.index === r.keyId;\n              });\n            }).then(function (e) {\n              return e.sequenceNumber;\n            })).then(function (e) {\n              n.accounts[r.tempId].sequenceNum = e;\n            });\n          });\n        }();\n\n        if (o && o.then) return o.then(function () {});\n      });\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(function () {\n      return n;\n    }) : n);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, pt, Nt(\"signatures\", function (e, n, t) {\n  return n.apply(void 0, t(e));\n}), Tt, Et, Nt(\"resolved\", function (e, n) {\n  return n(e);\n})]),\n    Ot = function (e, n) {\n  void 0 === e && (e = []), void 0 === n && (n = {});\n\n  try {\n    return Promise.resolve(Ze.first([\"sdk.transport\", \"sdk.send\"], n.send || Pn)).then(function (t) {\n      return Promise.resolve(Ze.first([\"sdk.resolve\"], n.resolve || xt)).then(function (r) {\n        return Array.isArray(e) && (e = Ne(F(), e)), Promise.resolve(r(e)).then(function (e) {\n          return t(e, n);\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    _t = function (e) {\n  try {\n    return Promise.resolve(Ze().where(/^decoder\\./)).then(function (n) {\n      var t = Object.entries(n).map(function (e) {\n        var n = e[0],\n            t = e[1];\n        return [n = \"/\" + n.replace(/^decoder\\./, \"\") + \"$/\", t];\n      });\n      return On(e, Object.fromEntries(t));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Lt = function (e) {\n  var n, t;\n\n  function r(n) {\n    var t,\n        r = (\"\\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: \" + n + \". \\n        Please ensure the address: \" + n + \" is intended to sign the given transaction as specified by the transaction signable.\\n      \").trim();\n    return (t = e.call(this, r) || this).name = \"Unable To Determine Message Encoding For Signer Addresss\", t;\n  }\n\n  return t = e, (n = r).prototype = Object.create(t.prototype), n.prototype.constructor = n, _(n, t), r;\n}(C(Error)),\n    Gt = function (e, n) {\n  var t,\n      r,\n      o = (t = e.voucher, (r = new Set(t.authorizers)).add(t.proposalKey.address), r.delete(t.payer), Array.from(r).map(A)),\n      u = function (e) {\n    var n = new Set([e.payer]);\n    return Array.from(n).map(A);\n  }(e.voucher),\n      i = o.includes(A(n)),\n      a = u.includes(A(n));\n\n  if (!i && !a) throw new Lt(n);\n  var c = {\n    cadence: e.voucher.cadence,\n    refBlock: e.voucher.refBlock,\n    computeLimit: e.voucher.computeLimit,\n    arguments: e.voucher.arguments,\n    proposalKey: x({}, e.voucher.proposalKey, {\n      address: B(e.voucher.proposalKey.address)\n    }),\n    payer: B(e.voucher.payer),\n    authorizers: e.voucher.authorizers.map(B),\n    payloadSigs: e.voucher.payloadSigs.map(function (e) {\n      return x({}, e, {\n        address: B(e.address)\n      });\n    })\n  };\n  return i ? Fn(c) : Hn(c);\n};\n\nfunction Ct() {\n  var e = [].slice.call(arguments),\n      n = e[1] || (\"object\" == typeof e[0] ? e[0] : void 0),\n      t = \"boolean\" == typeof e[0] ? e[0] : void 0;\n  return \"object\" == typeof e[0] && console.warn(\"\\n      %cFCL/SDK Deprecation Notice\\n      ============================\\n  \\n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\\n  \\n      ============================\\n    \", \"font-weight:bold;font-family:monospace;\"), Ot([Sn(t)], n).then(On);\n}\n\nfunction Ut(e, n) {\n  return Ot([wn(e)], n).then(On);\n}\n\nfunction Rt(e) {\n  return void 0 === e && (e = []), Ne(e.map(function (e) {\n    return $(e, {\n      role: \"authorizer\"\n    });\n  }));\n}\n\nfunction Dt(e, n, t, r) {\n  return {\n    addr: e,\n    signingFunction: n,\n    keyId: t,\n    sequenceNum: r\n  };\n}\n\nfunction Kt(e) {\n  return Le(\"ix.validators\", function (n) {\n    return Array.isArray(n) ? n.push(e) : [e];\n  });\n}\n\nfunction Ft(e) {\n  return Ne([function (n) {\n    return n.block.height = e, n;\n  }, Kt(function (e) {\n    if (\"boolean\" == typeof e.block.isSealed) throw new Error(\"Unable to specify both block height and isSealed.\");\n    if (e.block.id) throw new Error(\"Unable to specify both block height and block id.\");\n    return e;\n  })]);\n}\n\nfunction Ht(e) {\n  return Ne([function (n) {\n    return n.block.id = e, W(n);\n  }, Kt(function (e, n) {\n    var t = n.Ok,\n        r = n.Bad;\n    return ve(e) ? r(e, \"Unable to specify a block id with a Get Account interaction.\") : \"boolean\" == typeof e.block.isSealed ? r(e, \"Unable to specify both block id and isSealed.\") : e.block.height ? r(e, \"Unable to specify both block id and block height.\") : t(e);\n  })]);\n}\n\nfunction zt(e, n, t) {\n  return void 0 === n && void 0 === t || console.warn(\"\\n      %cFCL/SDK Deprecation Notice\\n      ============================\\n  \\n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\\n  \\n      ============================\\n    \", \"font-weight:bold;font-family:monospace;\"), Ne([re, function (r) {\n    return r.events.eventType = e, r.events.start = n, r.events.end = t, W(r);\n  }]);\n}\n\nfunction qt(e, n, t) {\n  return Ne([re, function (r) {\n    return r.events.eventType = e, r.events.start = n, r.events.end = t, W(r);\n  }]);\n}\n\nfunction Mt(e, n) {\n  return void 0 === n && (n = []), Ne([re, function (t) {\n    return t.events.eventType = e, t.events.blockIds = n, W(t);\n  }]);\n}\n\nfunction Jt(e) {\n  return void 0 === e && (e = null), Ne([se, function (n) {\n    return n.block.isSealed = e, W(n);\n  }]);\n}\n\nfunction Wt(e) {\n  return void 0 === e && (e = !1), console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), Ne([oe, function (n) {\n    return n.block.isSealed = e, W(n);\n  }]);\n}\n\nfunction Yt(e) {\n  return console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), Ne([ue, function (n) {\n    return n.block.ids = [e], W(n);\n  }]);\n}\n\nfunction Vt(e) {\n  return console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), Ne([ie, function (n) {\n    return n.block.height = e, W(n);\n  }]);\n}\n\nfunction $t(e) {\n  return void 0 === e && (e = null), Ne([le, function (n) {\n    return n.collection.id = e, n;\n  }]);\n}\n\nfunction Xt(e) {\n  return Ne([ee, function (n) {\n    return n.transaction.id = e, W(n);\n  }]);\n}\n\nfunction Zt(e) {\n  return Ne([ne, function (n) {\n    return n.transaction.id = e, W(n);\n  }]);\n}\n\nfunction Qt(e) {\n  return function (n) {\n    return n.message.computeLimit = e, n;\n  };\n}\n\nfunction er(e) {\n  return void 0 === e && (e = []), Ne(e.map(X));\n}\n\nfunction nr(e, n) {\n  return {\n    value: e,\n    xform: n\n  };\n}\n\nvar tr = function (e) {\n  try {\n    return Promise.resolve($(e, {\n      role: \"proposer\"\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    rr = function (e) {\n  try {\n    return Promise.resolve($(e, {\n      role: \"payer\"\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction or() {\n  return ae;\n}\n\nfunction ur(e) {\n  return Ne([function (n) {\n    return n.message.refBlock = e, W(n);\n  }]);\n}\n\nfunction ir() {\n  return Ne([Z, _e(\"ix.cadence\", N.apply(void 0, [].slice.call(arguments)))]);\n}\n\nvar ar = [];\n\nfunction cr() {\n  return Ne([Q, _e(\"ix.cadence\", N.apply(void 0, [].slice.call(arguments))), function (e) {\n    return e.message.computeLimit = e.message.computeLimit || 10, e.message.refBlock = e.message.refBlock || null, e.authorizations = e.authorizations || ar, W(e);\n  }]);\n}\n\nfunction sr() {\n  var e = [].slice.call(arguments);\n\n  if (e.length > 1) {\n    var n = e,\n        t = n[0],\n        r = n[1];\n    return sr(function (e, n) {\n      var o = n.Bad;\n      return t ? (0, n.Ok)(e) : o(e, r);\n    });\n  }\n\n  var o = e[0];\n  return function (e) {\n    return o(e, {\n      Ok: W,\n      Bad: Y\n    });\n  };\n}\n\nvar lr = function (e) {\n  var n = e.node;\n  return function (e) {\n    try {\n      return pe(e) ? e.accounts[e.proposer].sequenceNum ? Promise.resolve(W(e)) : Promise.resolve(Ce([wn(e.accounts[e.proposer].addr)])).then(function (t) {\n        return Promise.resolve(Pn(t, {\n          node: n\n        })).then(function (n) {\n          return Promise.resolve(On(n)).then(function (n) {\n            return e.accounts[e.proposer].sequenceNum = n.keys[e.accounts[e.proposer].keyId].sequenceNumber, W(e);\n          });\n        });\n      }) : Promise.resolve(W(e));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n},\n    fr = function (e) {\n  return e;\n},\n    dr = [\"tempId\"];\n\nfunction mr(e) {\n  return [\"SIGNATURE\", e.addr, e.keyId].join(\".\");\n}\n\nfunction pr(e) {\n  return void 0 === e && (e = {}), function (n) {\n    var t = x({}, n, e, {\n      signingFunction: e.signingFunction || n.signingFunction || function (e) {\n        return {\n          addr: t.addr,\n          keyId: t.keyId,\n          signature: mr(t)\n        };\n      }\n    });\n    return t;\n  };\n}\n\nvar gr = {\n  proposer: !1,\n  authorizer: !1,\n  payer: !1\n},\n    hr = {\n  __proto__: null,\n  mockSend: function (n) {\n    return void 0 === n && (n = fr), function (t) {\n      try {\n        return Promise.resolve(t).then(function (r) {\n          switch (t = r, !0) {\n            case ve(t):\n              return function (n, t) {\n                return void 0 === t && (t = 5), e(n.account, \"mockAccountResponse(ix) -- ix.account is missing\", n), e(n.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", n), {\n                  account: {\n                    addr: n.account.addr,\n                    keys: Array.from({\n                      length: t\n                    }, function (e, n) {\n                      return {\n                        index: n,\n                        sequenceNumber: 42\n                      };\n                    })\n                  }\n                };\n              }(t);\n\n            case Se(t):\n              return {\n                tag: \"GET_BLOCK\",\n                block: {\n                  id: \"32\"\n                }\n              };\n\n            default:\n              return n(t);\n          }\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    };\n  },\n  authzFn: pr,\n  authzResolve: function (e) {\n    return void 0 === e && (e = {}), function (n) {\n      return x({}, n, {\n        tempId: e.tempId || \"WITH_RESOLVE\",\n        resolve: pr(function (e, n) {\n          if (null == e) return {};\n          var t,\n              r,\n              o = {},\n              u = Object.keys(e);\n\n          for (r = 0; r < u.length; r++) n.indexOf(t = u[r]) >= 0 || (o[t] = e[t]);\n\n          return o;\n        }(e, dr))\n      });\n    };\n  },\n  authzResolveMany: function (e) {\n    return void 0 === e && (e = {}), function (n) {\n      return x({}, n, {\n        tempId: e.tempId || \"AUTHZ_RESOLVE_MANY\",\n        resolve: function () {\n          return [e.proposer && pr(e.proposer)({\n            role: x({}, gr, {\n              proposer: !0\n            })\n          })].concat(e.authorizations.map(pr).map(function (e) {\n            return e({\n              role: x({}, gr, {\n                authorizer: !0\n              })\n            });\n          }), [e.payer && pr(e.payer)({\n            role: x({}, gr, {\n              payer: !0\n            })\n          })]).filter(Boolean);\n        }\n      });\n    };\n  },\n  sig: mr,\n  idof: function (e) {\n    return e.addr + \"-\" + e.keyId;\n  },\n  run: function (e) {\n    return void 0 === e && (e = []), Ce([ur(\"123\")].concat(e)).then(xt);\n  }\n},\n    vr = \"0.0.54\",\n    yr = function (e) {\n  return n = {\n    name: \"params\",\n    transitionsPath: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\"\n  }, void console.error(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n    The \" + n.name + \" builder has been removed from the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: \" + n.transitionsPath + \"\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\");\n  var n;\n},\n    kr = function (e) {\n  return n = {\n    name: \"param\",\n    transitionsPath: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\"\n  }, void console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n    The \" + n.name + \" builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: \" + n.transitionsPath + \"\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\");\n  var n;\n};\n\nexport { hr as TestUtils, vr as VERSION, Ut as account, nr as arg, er as args, Ft as atBlockHeight, Ht as atBlockId, Dt as authorization, Rt as authorizations, Ce as build, Ze as config, yt as createSignableVoucher, _t as decode, Ge as destroy, Gt as encodeMessageFromSignable, Oe as get, wn as getAccount, Sn as getBlock, Vt as getBlockByHeight, Yt as getBlockById, Jt as getBlockHeader, $t as getCollection, zt as getEvents, qt as getEventsAtBlockHeightRange, Mt as getEventsAtBlockIds, Wt as getLatestBlock, Zt as getTransaction, Xt as getTransactionStatus, F as interaction, sr as invariant, Ee as isBad, ve as isGetAccount, Se as isGetBlock, Ie as isGetBlockByHeight, be as isGetBlockById, we as isGetBlockHeader, Be as isGetCollection, ye as isGetEvents, ke as isGetLatestBlock, he as isGetTransaction, ge as isGetTransactionStatus, Ae as isOk, Pe as isPing, me as isScript, pe as isTransaction, de as isUnknown, Ct as latestBlock, Qt as limit, kr as param, yr as params, rr as payer, or as ping, Ne as pipe, tr as proposer, _e as put, ur as ref, xt as resolve, wt as resolveAccounts, Un as resolveArguments, Ln as resolveCadence, Tt as resolveFinalNormalization, lr as resolveProposerSequenceNumber, _n as resolveRefBlockId, pt as resolveSignatures, Et as resolveValidators, ir as script, Ot as send, cr as transaction, Le as update, Kt as validator, Te as why };","map":{"version":3,"mappings":"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","names":["IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isArray","d","isNull","Ok","ix","status","Bad","reason","makeIx","wat","tag","prepAccount","acct","opts","invariant","role","ACCOUNT","tempId","accounts","resolve","o","authorizations","push","makeArgument","arg","message","arguments","value","asArgument","xform","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makeGetLatestBlock","makeGetBlockById","makeGetBlockByHeight","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isGetLatestBlock","isGetBlockById","isGetBlockByHeight","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isOk","isBad","why","recPipe","fns","body","recover","result","key","has","Error","hardMode","hd","rest","cur","isNumber","hasOwnProperty","isInteraction","e","then","pipe","arg1","arg2","identity","v","get","fallback","assigns","put","update","fn","destroy","build","first","wants","head","ret","NAME","PUT","GET","UPDATED","HANDLERS","ctx","_letter","broadcast","all","letter","reply","GET_ALL_CONFIG","UPDATE_CONFIG","DELETE_CONFIG","CLEAR_CONFIG","WHERE_CONFIG","pattern","where","SUBSCRIBE","subscribe","send","UNSUBSCRIBE","unsubscribe","config","expectReply","timeout","_delete","callback","subscriber","spawn","clearConfig","values","map","delete","overload","noop","Promise","reject","oldConfig","_callback","error","response","unary","host","method","request","metadataFromConfig","grpc","metadata","Metadata","onEnd","statusMessage","Code","OK","setDefaultTransport","NodeHttpTransport","hexBuffer","hex","Buffer","addressBuffer","addr","padStart","pad","u8ToHex","u8","toString","argumentBuffer","stringify","constructResponse","res","encodedData","getValue_asU8","contractsMap","account","getAccount","contracts","getContractsMap","getEntryList","reduce","acc","contract","UInt8Array","t","address","withPrefix","getAddress_asU8","balance","getBalance","code","getCode_asU8","getKeysList","publicKey","index","getIndex","getPublicKey_asU8","signAlgo","getSignAlgo","hashAlgo","getHashAlgo","weight","getWeight","sequenceNumber","getSequenceNumber","revoked","getRevoked","results","getResultsList","events","blocks","blockId","getBlockId_asU8","blockHeight","getBlockHeight","blockTimestamp","getBlockTimestamp","toDate","toISOString","getEventsList","forEach","type","event","getType","transactionId","getTransactionId_asU8","transactionIndex","getTransactionIndex","eventIndex","getEventIndex","payload","getPayload_asU8","block","getBlock","collectionGuarantees","getCollectionGuaranteesList","blockSeals","getBlockSealsList","signatures","getSignaturesList","id","getId_asU8","parentId","getParentId_asU8","height","getHeight","timestamp","getTimestamp","collectionGuarantee","collectionId","getCollectionId_asU8","blockSeal","executionReceiptId","getExecutionReceiptId_asU8","executionReceiptSignatures","getExecutionReceiptSignaturesList","resultApprovalSignatures","getResultApprovalSignaturesList","blockHeader","node","sendTransaction","defaultUnary","tx","Transaction","setScript","script","scriptBuffer","cadence","setGasLimit","computeLimit","setReferenceBlockId","refBlock","setPayer","sansPrefix","payer","addArguments","prev","current","find","item","addAuthorizers","proposalKey","ProposalKey","setAddress","proposer","setKeyId","keyId","setSequenceNumber","sequenceNum","setProposalKey","signature","sig","Signature","setSignature","addPayloadSignatures","console","addEnvelopeSignatures","req","SendTransactionRequest","setTransaction","t1","Date","now","AccessAPI","SendTransaction","t2","window","dispatchEvent","CustomEvent","detail","txId","delta","sendGetTransactionStatus","GetTransactionRequest","setId","transaction","GetTransactionResult","transactionStatus","getStatus","statusCode","getStatusCode","errorMessage","getErrorMessage","sendGetTransaction","GetTransaction","unwrapSignature","getKeyId","getSignature_asU8","getTransaction","getScript_asU8","args","getArgumentsList","referenceBlockId","getReferenceBlockId_asU8","gasLimit","getGasLimit","getProposalKey","getPayer_asU8","authorizers","getAuthorizersList","payloadSignatures","getPayloadSignaturesList","envelopeSignatures","getEnvelopeSignaturesList","sendExecuteScript","ExecuteScriptAtBlockIDRequest","setBlockId","ExecuteScriptAtBlockID","sendExecuteScriptAtBlockIDRequest","ExecuteScriptAtBlockHeightRequest","setBlockHeight","Number","ExecuteScriptAtBlockHeight","sendExecuteScriptAtBlockHeightRequest","ExecuteScriptAtLatestBlockRequest","ExecuteScriptAtLatestBlock","sendExecuteScriptAtLatestBlockRequest","sendGetAccount","GetAccountAtBlockHeightRequest","GetAccountAtBlockHeight","sendGetAccountAtBlockHeightRequest","GetAccountAtLatestBlockRequest","GetAccountAtLatestBlock","sendGetAccountAtLatestBlockRequest","sendGetEvents","interactionContainsBlockHeightRange","start","interactionContainsBlockIDsList","blockIds","GetEventsForHeightRangeRequest","setType","eventType","setStartHeight","setEndHeight","end","GetEventsForHeightRange","sendGetEventsForHeightRangeRequest","GetEventsForBlockIDsRequest","addBlockIds","GetEventsForBlockIDs","sendGetEventsForBlockIDsRequest","sendGetLatestBlock","GetLatestBlockRequest","latestBlock","isSealed","setIsSealed","replace","trim","GetLatestBlock","sendGetBlock","interactionHasBlockHeight","GetBlockByIDRequest","GetBlockByID","sendGetBlockByIDRequest","GetBlockByHeightRequest","setHeight","GetBlockByHeight","sendGetBlockByHeightRequest","_ix$block","sendGetBlockRequest","sendGetBlockHeader","GetBlockHeaderByIDRequest","GetBlockHeaderByID","sendGetBlockHeaderByIDRequest","GetBlockHeaderByHeightRequest","GetBlockHeaderByHeight","sendGetBlockHeaderByHeightRequest","GetLatestBlockHeaderRequest","GetLatestBlockHeader","sendGetLatestBlockHeaderRequest","sendGetBlockById","sendGetBlockByHeight","sendGetCollection","GetCollectionByIDRequest","collection","GetCollectionByID","getCollection","transactionIds","getTransactionIdsList","sendPing","PingRequest","Ping","r","decodeNumber","num","_","stack","decodeImplicit","i","decodeComposite","composite","decoders","fields","recurseDecode","name","decoded","decoder","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","optional","Reference","array","Dictionary","dictionary","Event","Resource","Struct","Enum","Type","staticType","Path","path","domain","identifier","Capability","cap","borrowType","lookup","found","test","RegExp","substring","decodeInstructions","decode","customDecoders","decodeResponse","data","_exit2","resolveRefBlockId","getRefId","resolveCadence","isString","entries","isFn","resolveArguments","cast","encodeTransactionPayload","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","leftPaddedHexBuffer","TRANSACTION_DOMAIN_TAG","padEnd","argumentToString","encode","validatePayload","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","signerIndex","sort","a","b","Map","addSigner","set","payloadFields","field","checkField","proposalKeyFields","envelopeFields","payloadSigFields","isObject","check","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","resolveSignatures","insideSigners","findInsideSigners","insidePayload","encodeInsideMessage","prepForEncoding","fetchSignature","outsideSigners","findOutsideSigners","outsidePayload","encodeOutsideMessage","inside","add","outside","signingFunction","f_type","f_vsn","roles","voucher","createSignableVoucher","buildSignable","cid","envelopeSigs","Symbol","iterator","pact","state","s","_settle","bind","observer","_Pact","prototype","onFulfilled","onRejected","this","_this","thenable","resolveAccounts","collectAccounts","last","depth","curr","c","target","step","_cycle","next","done","_isSettledPact","_fixup","TypeError","ax","old","authorizer","buildPreSignable","resolveValidators","validators","cb","resolveFinalNormalization","debug","accts","filter","Boolean","log","sendFn","_sendFn$then","defaultSend","defaultResolve","resolveFn","decodersFromConfig","fromEntries","UnableToDetermineMessageEncodingTypeForSignerAddress","signerAddress","msg","C","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","envelope","findEnvelopeSigners","isPayloadSigner","includes","isEnvelopeSigner","ps","undefined","warn","authz","authorization","validator","atBlockHeight","atBlockId","getEvents","getEventsAtBlockHeightRange","getEventsAtBlockIds","getBlockHeader","getLatestBlock","getBlockById","ids","getBlockByHeight","getTransactionStatus","limit","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","predicate","resolveProposerSequenceNumber","authzFn","ROLE","hr","__proto__","mockSend","numberOfKeys","mockAccountResponse","authzResolve","concat","VERSION","params","transitionsPath","param"],"sources":["../src/interaction/interaction.js","../src/build/build.js","../src/config/index.js","../src/response/response.js","../src/send/unary.js","../src/send/send-transaction.js","../src/send/send-get-transaction.js","../src/send/send-execute-script.js","../src/send/send-get-account.js","../src/send/send-get-events.js","../src/send/send-get-block.js","../src/send/send-get-block-header.js","../src/send/send-get-latest-block.js","../src/send/send-get-block-by-id.js","../src/send/send-get-block-by-height.js","../src/send/send-get-collection.js","../src/send/sdk-send.js","../src/send/send-get-transaction-status.js","../src/send/send-ping.js","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode.js","../src/resolve/resolve-ref-block-id.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.js","../src/resolve/resolve-signatures.js","../src/resolve/resolve-accounts.js","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/wallet-utils/encode-signable.js","../src/latest-block/latest-block.js","../src/account/account.js","../src/build/build-authorizations.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-latest-block.js","../src/build/build-get-block-by-id.js","../src/build/build-get-block-by-height.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-limit.js","../src/build/build-arguments.js","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-invariant.js","../src/resolve/resolve-proposer-sequence-number.js","../src/test-utils/mock-send.js","../src/test-utils/authz-fn.js","../src/test-utils/run.js","../src/VERSION.js","../src/sdk.js","../src/utils/deprecate.js"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const GET_LATEST_BLOCK /*              */ = \"GET_LATEST_BLOCK\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK_BY_ID /*               */ = \"GET_BLOCK_BY_ID\"\nexport const GET_BLOCK_BY_HEIGHT /*           */ = \"GET_BLOCK_BY_HEIGHT\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":null,\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  acct = typeof acct === \"function\" ? {resolve: acct} : acct\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makeGetLatestBlock /*          */ = makeIx(GET_LATEST_BLOCK)\nexport const makeGetBlockById /*            */ = makeIx(GET_BLOCK_BY_ID)\nexport const makeGetBlockByHeight /*        */ = makeIx(GET_BLOCK_BY_HEIGHT)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isGetLatestBlock /*          */ = is(GET_LATEST_BLOCK)\nexport const isGetBlockById /*            */ = is(GET_BLOCK_BY_ID)\nexport const isGetBlockByHeight /*        */ = is(GET_BLOCK_BY_HEIGHT)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","import {\n  spawn,\n  send,\n  subscriber,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n} from \"@onflow/util-actor\"\n\nconst NAME = \"config\"\nconst PUT = \"PUT_CONFIG\"\nconst GET = \"GET_CONFIG\"\nconst GET_ALL = \"GET_ALL_CONFIG\"\nconst UPDATE = \"UPDATE_CONFIG\"\nconst DELETE = \"DELETE_CONFIG\"\nconst CLEAR = \"CLEAR_CONFIG\"\nconst WHERE = \"WHERE_CONFIG\"\nconst UPDATED = \"CONFIG/UPDATED\"\n\nconst identity = v => v\n\nconst HANDLERS = {\n  [PUT]: (ctx, _letter, {key, value}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/put.\")\n    ctx.put(key, value)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [GET]: (ctx, letter, {key, fallback}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/get\")\n    letter.reply(ctx.get(key, fallback))\n  },\n  [GET_ALL]: (ctx, letter) => {\n    letter.reply({...ctx.all()})\n  },\n  [UPDATE]: (ctx, letter, {key, fn}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/update\")\n    ctx.update(key, fn || identity)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [DELETE]: (ctx, letter, {key}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/delete\")\n    ctx.delete(key)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [CLEAR]: (ctx, letter) => {\n    let keys = Object.keys(ctx.all())\n    for (let key of keys) ctx.delete(key)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [WHERE]: (ctx, letter, {pattern}) => {\n    if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\")\n    letter.reply(ctx.where(pattern))\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n}\n\nspawn(HANDLERS, NAME)\n\nfunction put(key, value) {\n  send(NAME, PUT, {key, value})\n  return config()\n}\n\nfunction get(key, fallback) {\n  return send(NAME, GET, {key, fallback}, {expectReply: true, timeout: 10})\n}\n\nasync function first(wants = [], fallback) {\n  if (!wants.length) return fallback\n  const [head, ...rest] = wants\n  const ret = await get(head)\n  if (ret == null) return first(rest, fallback)\n  return ret\n}\n\nfunction all() {\n  return send(NAME, GET_ALL, null, {expectReply: true, timeout: 10})\n}\n\nfunction update(key, fn = identity) {\n  send(NAME, UPDATE, {key, fn})\n  return config()\n}\n\nfunction _delete(key) {\n  send(NAME, DELETE, {key})\n  return config()\n}\n\nfunction where(pattern) {\n  return send(NAME, WHERE, {pattern}, {expectReply: true, timeout: 10})\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, () => spawn(HANDLERS, NAME), callback)\n}\n\nexport function clearConfig() {\n  return send(NAME, CLEAR)\n}\n\nfunction config(values) {\n  if (values != null && typeof values === \"object\") {\n    Object.keys(values).map(d => put(d, values[d]))\n  }\n\n  return {\n    put,\n    get,\n    all,\n    first,\n    update,\n    delete: _delete,\n    where,\n    subscribe,\n    overload,\n  }\n}\n\nconfig.put = put\nconfig.get = get\nconfig.all = all\nconfig.first = first\nconfig.update = update\nconfig.delete = _delete\nconfig.where = where\nconfig.subscribe = subscribe\nconfig.overload = overload\n\nexport {config}\n\nconst noop = v => v\nfunction overload(opts = {}, callback = noop) {\n  return new Promise(async (resolve, reject) => {\n    const oldConfig = await all()\n    try {\n      config(opts)\n      var result = await callback(await all())\n      await clearConfig()\n      await config(oldConfig)\n      resolve(result)\n    } catch (error) {\n      await clearConfig()\n      await config(oldConfig)\n      reject(error)\n    }\n  })\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {grpc} from \"@improbable-eng/grpc-web\"\nimport {NodeHttpTransport} from \"@improbable-eng/grpc-web-node-http-transport\"\nimport {config} from \"../config\"\n\ngrpc.setDefaultTransport(NodeHttpTransport())\n\nexport async function unary(host, method, request) {\n  const metadataFromConfig = await config().get(\"grpc.metadata\", {})\n  return new Promise((resolve, reject) => {\n    grpc.unary(method, {\n      request: request,\n      host: host,\n      metadata: new grpc.Metadata(metadataFromConfig),\n      onEnd: ({status, statusMessage, message}) => {\n        if (status === grpc.Code.OK) {\n          resolve(message)\n        } else {\n          reject(new Error(statusMessage))\n        }\n      },\n    })\n  })\n}\n","import {AccessAPI, Transaction, SendTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nexport async function sendTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const tx = new Transaction()\n  tx.setScript(scriptBuffer(ix.message.cadence))\n  tx.setGasLimit(ix.message.computeLimit)\n  tx.setReferenceBlockId(\n    ix.message.refBlock ? hexBuffer(ix.message.refBlock) : null\n  )\n  tx.setPayer(addressBuffer(sansPrefix(ix.accounts[ix.payer].addr)))\n  ix.message.arguments.forEach(arg =>\n    tx.addArguments(argumentBuffer(ix.arguments[arg].asArgument))\n  )\n  ix.authorizations\n    .map(tempId => ix.accounts[tempId].addr)\n    .reduce((prev, current) => {\n      return prev.find(item => item === current) ? prev : [...prev, current]\n    }, [])\n    .forEach(addr => tx.addAuthorizers(addressBuffer(sansPrefix(addr))))\n\n  const proposalKey = new Transaction.ProposalKey()\n  proposalKey.setAddress(\n    addressBuffer(sansPrefix(ix.accounts[ix.proposer].addr))\n  )\n  proposalKey.setKeyId(ix.accounts[ix.proposer].keyId)\n  proposalKey.setSequenceNumber(ix.accounts[ix.proposer].sequenceNum)\n\n  tx.setProposalKey(proposalKey)\n\n  // Apply Non Payer Signatures to Payload Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (!acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addPayloadSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying payload signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  // Apply Payer Signatures to Envelope Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addEnvelopeSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying envelope signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  const req = new SendTransactionRequest()\n  req.setTransaction(tx)\n\n  var t1 = Date.now()\n  const res = await unary(opts.node, AccessAPI.SendTransaction, req)\n  var t2 = Date.now()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionId = u8ToHex(res.getId_asU8())\n\n  if (typeof window !== \"undefined\") {\n    window.dispatchEvent(\n      new CustomEvent(\"FLOW::TX\", {\n        detail: {txId: ret.transactionId, delta: t2 - t1},\n      })\n    )\n  }\n\n  return ret\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransaction, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const unwrapKey = key => ({\n    address: u8ToHex(key.getAddress_asU8()),\n    keyId: key.getKeyId(),\n    sequenceNumber: key.getSequenceNumber()\n  })\n\n  const unwrapSignature = sig => ({\n    address: u8ToHex(sig.getAddress_asU8()),\n    keyId: sig.getKeyId(),\n    signature: u8ToHex(sig.getSignature_asU8())\n  })\n\n  let transaction = res.getTransaction()\n  ret.transaction = {\n      script: Buffer.from(transaction.getScript_asU8()).toString(\"utf8\"),\n      args: (transaction.getArgumentsList()).map(arg => JSON.parse(Buffer.from(arg).toString(\"utf8\"))),\n      referenceBlockId: u8ToHex(transaction.getReferenceBlockId_asU8()),\n      gasLimit: transaction.getGasLimit(),\n      proposalKey: unwrapKey(transaction.getProposalKey()),\n      payer: u8ToHex(transaction.getPayer_asU8()),\n      authorizers: (transaction.getAuthorizersList()).map(u8ToHex),\n      payloadSignatures: (transaction.getPayloadSignaturesList()).map(unwrapSignature),\n      envelopeSignatures: (transaction.getEnvelopeSignaturesList()).map(unwrapSignature)\n  }\n\n  return ret\n}\n","import {ExecuteScriptAtLatestBlockRequest, ExecuteScriptAtBlockIDRequest, ExecuteScriptAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nasync function sendExecuteScriptAtBlockIDRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new ExecuteScriptAtBlockIDRequest()\n\n  req.setBlockId(hexBuffer(ix.block.id))\n\n  const code = Buffer.from(ix.message.cadence, \"utf8\")\n  ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n  req.setScript(code)\n\n  const res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockID, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendExecuteScriptAtBlockHeightRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new ExecuteScriptAtBlockHeightRequest()\n\n  req.setBlockHeight(Number(ix.block.height))\n\n  const code = Buffer.from(ix.message.cadence, \"utf8\")\n  ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n  req.setScript(code)\n\n  const res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockHeight, req) \n  \n  return constructResponse(ix, res)\n}\n\nasync function sendExecuteScriptAtLatestBlockRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new ExecuteScriptAtLatestBlockRequest()\n  \n  const code = Buffer.from(ix.message.cadence, \"utf8\")\n  ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n  req.setScript(code)\n\n  const res = await unary(opts.node, AccessAPI.ExecuteScriptAtLatestBlock, req)\n\n  return constructResponse(ix, res)\n}\n\nfunction constructResponse(ix, res)  {\n  let ret = response()\n  ret.tag = ix.tag\n  ret.encodedData = JSON.parse(Buffer.from(res.getValue_asU8()).toString(\"utf8\"))\n\n  return ret\n}\n\nexport async function sendExecuteScript(ix, opts = {}) {\n  ix = await ix\n\n  if (ix.block.id) {\n    return await sendExecuteScriptAtBlockIDRequest(ix, opts)\n  } else if (ix.block.height) {\n    return await sendExecuteScriptAtBlockHeightRequest(ix, opts)\n  } else {\n    return await sendExecuteScriptAtLatestBlockRequest(ix, opts)\n  }\n}\n","import {GetAccountAtLatestBlockRequest, GetAccountAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\n\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\n\nasync function sendGetAccountAtBlockHeightRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetAccountAtBlockHeightRequest()\n  req.setBlockHeight(Number(ix.block.height))\n  req.setAddress(addressBuffer(sansPrefix(ix.account.addr)))\n\n  const res = await unary(opts.node, AccessAPI.GetAccountAtBlockHeight, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetAccountAtLatestBlockRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetAccountAtLatestBlockRequest()\n  req.setAddress(addressBuffer(sansPrefix(ix.account.addr)))\n\n  const res = await unary(opts.node, AccessAPI.GetAccountAtLatestBlock, req)\n\n  return constructResponse(ix, res)\n}\n\nfunction constructResponse(ix, res) {\n  let ret = response()\n  ret.tag = ix.tag\n\n  const account = res.getAccount()\n\n  let contractsMap;\n  const contracts = (contractsMap = account.getContractsMap()) ? contractsMap.getEntryList().reduce((acc, contract) => ({\n    ...acc,\n    [contract[0]]: Buffer.from(contract[1] || new UInt8Array()).toString(\"utf8\")\n  }), {}) : {}\n\n  ret.account = {\n    address: withPrefix(u8ToHex(account.getAddress_asU8())),\n    balance: account.getBalance(),\n    code: Buffer.from(account.getCode_asU8() || new UInt8Array()).toString(\"utf8\"),\n    contracts,\n    keys: account.getKeysList().map(publicKey => ({\n      index: publicKey.getIndex(),\n      publicKey: u8ToHex(publicKey.getPublicKey_asU8()),\n      signAlgo: publicKey.getSignAlgo(),\n      hashAlgo: publicKey.getHashAlgo(),\n      weight: publicKey.getWeight(),\n      sequenceNumber: publicKey.getSequenceNumber(),\n      revoked: publicKey.getRevoked(),\n    })),\n  }\n\n  return ret\n}\n\n\nexport async function sendGetAccount(ix, opts = {}) {\n  ix = await ix\n\n  if (ix.block.height !== null) {\n    return await sendGetAccountAtBlockHeightRequest(ix, opts)\n  } else {\n    return await sendGetAccountAtLatestBlockRequest(ix, opts)\n  }\n}\n","import {GetEventsForHeightRangeRequest, GetEventsForBlockIDsRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nasync function sendGetEventsForHeightRangeRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetEventsForHeightRangeRequest()\n  req.setType(ix.events.eventType)\n\n  req.setStartHeight(Number(ix.events.start))\n  req.setEndHeight(Number(ix.events.end))\n\n  const res = await unary(opts.node, AccessAPI.GetEventsForHeightRange, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetEventsForBlockIDsRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetEventsForBlockIDsRequest()\n  req.setType(ix.events.eventType)\n\n  ix.events.blockIds.forEach(id =>\n    req.addBlockIds(hexBuffer(id))\n  )\n\n  const res = await unary(opts.node, AccessAPI.GetEventsForBlockIDs, req)\n\n  return constructResponse(ix, res)\n}\n\nfunction constructResponse(ix, res) {\n  let ret = response()\n  ret.tag = ix.tag\n\n  const results = res.getResultsList()\n  ret.events = results.reduce((blocks, result) => {\n    const blockId = u8ToHex(result.getBlockId_asU8())\n    const blockHeight = result.getBlockHeight()\n    const blockTimestamp = result.getBlockTimestamp().toDate().toISOString()\n    const events = result.getEventsList()\n    events.forEach(event => {\n      blocks.push({\n        blockId,\n        blockHeight,\n        blockTimestamp,\n        type: event.getType(),\n        transactionId: u8ToHex(event.getTransactionId_asU8()),\n        transactionIndex: event.getTransactionIndex(),\n        eventIndex: event.getEventIndex(),\n        payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n      })\n    })\n    return blocks\n  }, [])\n\n  return ret\n}\n\nexport async function sendGetEvents(ix, opts = {}) {  \n  ix = await ix\n\n  const interactionContainsBlockHeightRange = ix.events.start !== null \n  const interactionContainsBlockIDsList = Array.isArray(ix.events.blockIds) && ix.events.blockIds.length > 0\n \n  invariant(\n    interactionContainsBlockHeightRange || interactionContainsBlockIDsList,\n    \"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified.\"\n  )\n  \n  if (interactionContainsBlockHeightRange) {\n    return await sendGetEventsForHeightRangeRequest(ix, opts)\n  } else {\n    return await sendGetEventsForBlockIDsRequest(ix, opts)\n  }\n}\n","import {GetBlockByIDRequest, GetBlockByHeightRequest, GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nasync function sendGetBlockByIDRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetBlockByIDRequest()\n  req.setId(hexBuffer(ix.block.id))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetBlockByHeightRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetBlockByHeightRequest()\n  req.setHeight(Number(ix.block.height))\n    \n  const res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetBlockRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetLatestBlockRequest()\n\n  if (ix.block?.isSealed) {\n    req.setIsSealed(ix.block.isSealed)\n  }\n\n  const res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n\n  return constructResponse(ix, res)\n}\n\nfunction constructResponse(ix, res) {\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = (block.getSignaturesList()).map(u8ToHex)\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp().toDate().toISOString(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: (collectionGuarantee.getSignaturesList()).map(u8ToHex),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: (blockSeal.getExecutionReceiptSignaturesList()).map(u8ToHex),\n      resultApprovalSignatures: (blockSeal.getResultApprovalSignaturesList()).map(u8ToHex),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n\nexport async function sendGetBlock(ix, opts = {}) {\n  ix = await ix\n\n  const interactionHasBlockID = ix.block.id !== null\n  const interactionHasBlockHeight = ix.block.height !== null\n\n  if (interactionHasBlockID) {\n    return await sendGetBlockByIDRequest(ix, opts)\n  } else if (interactionHasBlockHeight) {\n    return await sendGetBlockByHeightRequest(ix, opts)\n  } else {\n    return await sendGetBlockRequest(ix, opts)\n  }\n}\n","import {GetLatestBlockHeaderRequest, GetBlockHeaderByIDRequest, GetBlockHeaderByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nasync function sendGetBlockHeaderByIDRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetBlockHeaderByIDRequest()\n  req.setId(hexBuffer(ix.block.id))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockHeaderByID, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetBlockHeaderByHeightRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetBlockHeaderByHeightRequest()\n  req.setHeight(Number(ix.block.height))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockHeaderByHeight, req)\n\n  return constructResponse(ix, res)\n}\n\nasync function sendGetLatestBlockHeaderRequest(ix, opts) {\n  const unary = opts.unary || defaultUnary\n\n  const req = new GetLatestBlockHeaderRequest()\n\n  if (ix.block?.isSealed) {\n    req.setIsSealed(ix.block.isSealed)\n  }\n\n  const res = await unary(opts.node, AccessAPI.GetLatestBlockHeader, req)\n\n  return constructResponse(ix, res)\n}\n\nfunction constructResponse(ix, res) {\n  const blockHeader = res.getBlock()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.blockHeader = {\n    id: u8ToHex(blockHeader.getId_asU8()),\n    parentId: u8ToHex(blockHeader.getParentId_asU8()),\n    height: blockHeader.getHeight(),\n    timestamp: blockHeader.getTimestamp().toDate().toISOString(),\n  }\n\n  return ret\n}\n\nexport async function sendGetBlockHeader(ix, opts = {}) {\n  ix = await ix\n\n  const interactionHasBlockID = ix.block.id !== null\n  const interactionHasBlockHeight = ix.block.height !== null\n\n  if (interactionHasBlockID) {\n    return await sendGetBlockHeaderByIDRequest(ix, opts)\n  } else if (interactionHasBlockHeight) {\n    return await sendGetBlockHeaderByHeightRequest(ix, opts)\n  } else {\n    return await sendGetLatestBlockHeaderRequest(ix, opts)\n  }\n}\n","import {GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nconst latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nexport async function sendGetLatestBlock(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetLatestBlockRequest()\n\n  if (ix.latestBlock && ix.latestBlock.isSealed) {\n    req.setIsSealed(ix.latestBlock.isSealed)\n    latestBlockDeprecationNotice()\n  }\n\n  if (ix.block && ix.block.isSealed) {\n    req.setIsSealed(ix.block.isSealed)\n  }\n\n  const res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlockById(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByIDRequest()\n  req.setId(hexBuffer(ix.block.id))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nexport async function sendGetBlockByHeight(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByHeightRequest()\n  req.setHeight(Number(ix.block.height))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetCollectionByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetCollection(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetCollectionByIDRequest()\n  req.setId(hexBuffer(ix.collection.id))\n\n  const res = await unary(opts.node, AccessAPI.GetCollectionByID, req)\n\n  const collection = res.getCollection()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.collection = {\n    id: u8ToHex(collection.getId_asU8()),\n    transactionIds: (collection.getTransactionIdsList()).map(u8ToHex)\n  }\n\n  return ret\n}\n","import {\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isScript,\n  isGetAccount,\n  isGetEvents,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetLatestBlock,\n  isGetBlockById,\n  isGetBlockByHeight,\n  isPing,\n  isGetCollection,\n} from \"../interaction/interaction.js\"\nimport {sendTransaction} from \"./send-transaction.js\"\nimport {sendGetTransactionStatus} from \"./send-get-transaction-status.js\"\nimport {sendGetTransaction} from \"./send-get-transaction.js\"\nimport {sendExecuteScript} from \"./send-execute-script.js\"\nimport {sendGetAccount} from \"./send-get-account.js\"\nimport {sendGetEvents} from \"./send-get-events.js\"\nimport {sendGetBlock} from \"./send-get-block.js\"\nimport {sendGetBlockHeader} from \"./send-get-block-header.js\"\nimport {sendGetLatestBlock} from \"./send-get-latest-block.js\"\nimport {sendGetBlockById} from \"./send-get-block-by-id.js\"\nimport {sendGetBlockByHeight} from \"./send-get-block-by-height.js\"\nimport {sendGetCollection} from \"./send-get-collection.js\"\nimport {sendPing} from \"./send-ping.js\"\nimport {config} from \"../config\"\n\nexport const send = async (ix, opts = {}) => {\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n  ix = await ix\n\n  // prettier-ignore\n  switch (true) {\n    case isTransaction(ix):\n      return opts.sendTransaction ? opts.sendTransaction(ix, opts) : sendTransaction(ix, opts)\n    case isGetTransactionStatus(ix):\n      return opts.sendGetTransactionStatus ? opts.sendGetTransactionStatus(ix, opts) : sendGetTransactionStatus(ix, opts)\n    case isGetTransaction(ix):\n      return opts.sendGetTransaction ? opts.sendGetTransaction(ix, opts) : sendGetTransaction(ix, opts)\n    case isScript(ix):\n      return opts.sendExecuteScript ? opts.sendExecuteScript(ix, opts) : sendExecuteScript(ix, opts)\n    case isGetAccount(ix):\n      return opts.sendGetAccount ? opts.sendGetAccount(ix, opts) : sendGetAccount(ix, opts)\n    case isGetEvents(ix):\n      return opts.sendGetEvents ? opts.sendGetEvents(ix, opts) : sendGetEvents(ix, opts)\n    case isGetLatestBlock(ix):\n      return opts.sendGetLatestBlock ? opts.sendGetLatestBlock(ix, opts) : sendGetLatestBlock(ix,  opts)\n    case isGetBlock(ix):\n      return opts.sendGetBlock ? opts.sendGetBlock(ix, opts) : sendGetBlock(ix, opts)\n    case isGetBlockHeader(ix):\n      return opts.sendGetBlockHeader ? opts.sendGetBlockHeader(ix, opts) : sendGetBlockHeader(ix, opts)\n    case isGetBlockById(ix):\n      return opts.sendGetBlockById ? opts.sendGetBlockById(ix, opts) : sendGetBlockById(ix, opts)\n    case isGetBlockByHeight(ix):\n      return opts.sendGetBlockByHeight ? opts.sendGetBlockByHeight(ix, opts) : sendGetBlockByHeight(ix, opts)\n    case isGetCollection(ix):\n      return opts.sendGetCollection ? opts.sendGetCollection(ix, opts) : sendGetCollection(ix, opts)\n    case isPing(ix):\n      return opts.sendPing ? opts.sendPing(ix, opts) : sendPing(ix, opts)\n    default:\n      return ix\n  }\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransactionStatus(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransactionResult, req)\n\n  let events = res.getEventsList()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionStatus = {\n    status: res.getStatus(),\n    statusCode: res.getStatusCode(),\n    errorMessage: res.getErrorMessage(),\n    events: events.map(event => ({\n      type: event.getType(),\n      transactionId: u8ToHex(event.getTransactionId_asU8()),\n      transactionIndex: event.getTransactionIndex(),\n      eventIndex: event.getEventIndex(),\n      payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n    })),\n  }\n\n  return ret\n}\n","import {AccessAPI, PingRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nexport async function sendPing(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new PingRequest()\n\n  const res = await unary(opts.node, AccessAPI.Ping, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  return ret\n}\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    }\n  ])\n}\n","const latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async (i) => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async (type) => {\n  return type.staticType\n}\n\nconst decodePath = async (path) => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier\n  }\n}\n\nconst decodeCapability = async (cap) => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async (v) => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      (v) =>\n        new Promise(async (res) =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[\n      await recurseDecode(v.key, decoders, [...stack, v.key])\n    ] = await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeNumber,\n  Int: decodeNumber,\n  UInt8: decodeNumber,\n  Int8: decodeNumber,\n  UInt16: decodeNumber,\n  Int16: decodeNumber,\n  UInt32: decodeNumber,\n  Int32: decodeNumber,\n  UInt64: decodeNumber,\n  Int64: decodeNumber,\n  UInt128: decodeNumber,\n  Int128: decodeNumber,\n  UInt256: decodeNumber,\n  Int256: decodeNumber,\n  Word8: decodeNumber,\n  Word16: decodeNumber,\n  Word32: decodeNumber,\n  Word64: decodeNumber,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find((decoder) => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n  return await recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n\n  if (response.encodedData) {\n    return await decode(response.encodedData, decoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, decoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, decoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  }\n\n  return null\n}\n","import {isTransaction, Ok, interaction, pipe} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\n\nasync function getRefId (opts) {\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await send(ix, opts)\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"../config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce(\n          (cadence, [key, value]) => cadence.replace(key, value),\n          cadence\n        )\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      ix.arguments[id].asArgument = cast(arg)\n    }\n  }\n\n  return ix\n}\n","import { encode } from '@onflow/rlp';\n\nexport const encodeTransactionPayload = tx => prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx => prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(tx.proposalKey.address),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(tx.payer),\n    tx.authorizers.map(addressBuffer),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  envelopeFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst envelopeFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  inside.delete(ix.payer)\n  return Array.from(inside)\n}\n\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set([ix.payer])\n  return Array.from(outside)\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    // if (!acct.role.proposer) {\n    //   ix.accounts[id].keyId = keyId\n    // }\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport const createSignableVoucher = ix => {\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: sansPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./resolve-signatures\"\n\nconst isFn = v => typeof v === \"function\"\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    var old = last || ax\n    if (isFn(ax.resolve)) ax = await ax.resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      if (ax.addr != null && ax.keyId != null) {\n        ax.tempId = `${ax.addr}-${ax.keyId}`\n      }\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer && ix.payer === old.tempId) {\n        ix.payer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = Array.from(new Set([...authorizations, ax.tempId]))\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n          // if (!new Set(ix.authorizations).has(ax.tempId)) {\n          //   ix.authorizations = Array.from(\n          //     new Set([...ix.authorizations, ax.tempId])\n          //   )\n          // }\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import { get, pipe, Ok, Bad } from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, 'ix.validators', [])\n  return pipe(ix, validators.map(cb => ix => cb(ix, { Ok, Bad })))\n}   \n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"../config\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nimport {send} from \"../send/sdk-send.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveRefBlockId} from \"./resolve-ref-block-id.js\"\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\n\nconst noop = v => v\nconst debug = (key, fn = noop) => async ix => {\n  const take = (obj, keys = []) => {\n    if (typeof keys === \"string\") keys = keys.split(\" \")\n    keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n  }\n\n  const accts = ix =>\n    [\n      \"\\nAccounts:\",\n      {\n        proposer: ix.proposer,\n        authorizations: ix.authorizations,\n        payer: ix.payer,\n      },\n      \"\\n\\nDetails:\",\n      ix.accounts,\n    ].filter(Boolean)\n\n  const log = (...msg) => {\n    console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n  }\n\n  if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n  return ix\n}\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], send)\n    ix.message.refBlock = (await sendFn(build([getBlock()])).then(decode)).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], send)\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)])\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import {interaction, pipe} from \"../interaction/interaction.js\"\nimport {config} from \"../config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\nimport {send as defaultSend} from \"./sdk-send.js\"\n\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFn(await resolveFn(args), opts)\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"../config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n    encodeTransactionPayload,\n    encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = (voucher) => {\n    // Payload Signers Are: (authorizers + proposer) - payer\n    let payload = new Set(voucher.authorizers)\n    payload.add(voucher.proposalKey.address)\n    payload.delete(voucher.payer)\n    return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = (voucher) => {\n    // Envelope Signers Are: (payer)\n    let envelope = new Set([voucher.payer])\n    return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n    constructor(signerAddress) {\n      const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n      super(msg)\n      this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n    }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n    let payloadSigners = findPayloadSigners(signable.voucher)\n    let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n    const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n    const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n    if (!isPayloadSigner && !isEnvelopeSigner) {\n        throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress)\n    }\n\n    const message = {\n        cadence: signable.voucher.cadence,\n        refBlock: signable.voucher.refBlock,\n        computeLimit: signable.voucher.computeLimit,\n        arguments: signable.voucher.arguments,\n        proposalKey: {\n            ...signable.voucher.proposalKey,\n            address: sansPrefix(signable.voucher.proposalKey.address)\n        },\n        payer: sansPrefix(signable.voucher.payer),\n        authorizers: signable.voucher.authorizers.map(sansPrefix),\n        payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n            ...ps,\n            address: sansPrefix(ps.address)\n        }))\n    }\n\n    return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message)\n}\n\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nexport function latestBlock(...args) {\n  let opts = args[1] || (typeof args[0] === \"object\" ? args[0] : undefined)\n  let isSealed = typeof args[0] === \"boolean\" ? args[0] : undefined\n\n  if (typeof args[0] === \"object\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )\n  }\n\n  return send([getBlock(isSealed)], opts).then(decode)\n}\n","import {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\nexport function account(address, opts) {\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n    return update('ix.validators', validators => \n        Array.isArray(validators) ? validators.push(cb) : [cb]\n    )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\")\n      if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEvents(eventType, start, end) {\n\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )  \n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockIds(eventType, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetLatestBlock} from \"../interaction/interaction.js\"\n\nexport function getLatestBlock(isSealed = false) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetLatestBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockById} from \"../interaction/interaction.js\"\n\nexport function getBlockById(id) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockById,\n    ix => {\n      ix.block.ids = [id]\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockByHeight} from \"../interaction/interaction.js\"\n\nexport function getBlockByHeight(height) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockByHeight,\n    ix => {\n      ix.block.height = height\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([\n    makeScript,\n    put(\"ix.cadence\", template(...args))\n  ])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_COMPUTE_LIMIT = 10\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.computeLimit = ix.message.computeLimit || DEFAULT_COMPUTE_LIMIT\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import { Ok, Bad } from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, { Ok, Bad }) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\n\nexport const resolveProposerSequenceNumber = ({ node }) => async (ix) => {\n  if (!(isTransaction(ix))) return Ok(ix)\n  if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n  const response = await send(await build([\n    getAccount(ix.accounts[ix.proposer].addr)\n  ]), { node })\n  const decoded = await decodeResponse(response)\n\n  ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n  return Ok(ix)\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","export const idof = acct => `${acct.addr}-${acct.keyId}`\n\nexport function sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\nexport function authzFn(opts = {}) {\n  return function (account) {\n    const acct = {\n      ...account,\n      ...opts,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\nexport function authzResolve(opts = {}) {\n  return function (account) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\nexport function authzResolveMany(opts = {}) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = \"0.0.54\"\n","import {deprecate} from \"./utils\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\n\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isGetLatestBlock,\n  isGetBlockById,\n  isGetBlockByHeight,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher} from \"./resolve/resolve-signatures\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {latestBlock} from \"./latest-block/latest-block.js\"\nexport {account} from \"./account/account.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getLatestBlock} from \"./build/build-get-latest-block.js\"\nexport {getBlockById} from \"./build/build-get-block-by-id.js\"\nexport {getBlockByHeight} from \"./build/build-get-block-by-height\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\n\n// Config\nexport {config} from \"./config\"\n\n// Deprecated\nexport const params = params =>\n  deprecate.error({\n    name: \"params\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\nexport const param = params =>\n  deprecate.warn({\n    name: \"param\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\"\n","const buildWarningMessage = ({name, transitionsPath}) => {\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst buildErrorMessage = ({name, transitionsPath}) => {\n  console.error(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst warn = deprecated => buildWarningMessage(deprecated)\n\nconst error = deprecated => {\n  buildErrorMessage(deprecated)\n}\n\nexport const deprecate = {\n  warn,\n  error,\n}\n"]},"metadata":{},"sourceType":"module"}